<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>讯飞SDK | 欢迎回来 ！</title>
    <meta name="description" content="lcsx">
    <meta name="generator" content="VuePress 1.4.0">
    
    
    <link rel="preload" href="/blog/assets/css/0.styles.ee874cfe.css" as="style"><link rel="preload" href="/blog/assets/js/app.7a4660d2.js" as="script"><link rel="preload" href="/blog/assets/js/2.85e08d05.js" as="script"><link rel="preload" href="/blog/assets/js/68.7f108fcc.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.573da17f.js"><link rel="prefetch" href="/blog/assets/js/11.5a02348c.js"><link rel="prefetch" href="/blog/assets/js/12.d8c9c1bd.js"><link rel="prefetch" href="/blog/assets/js/13.e09bb963.js"><link rel="prefetch" href="/blog/assets/js/14.d23ca837.js"><link rel="prefetch" href="/blog/assets/js/15.c4683e2a.js"><link rel="prefetch" href="/blog/assets/js/16.c660c97d.js"><link rel="prefetch" href="/blog/assets/js/17.49bf184a.js"><link rel="prefetch" href="/blog/assets/js/18.9be995ca.js"><link rel="prefetch" href="/blog/assets/js/19.df144b24.js"><link rel="prefetch" href="/blog/assets/js/20.5aad5a93.js"><link rel="prefetch" href="/blog/assets/js/21.262a03c1.js"><link rel="prefetch" href="/blog/assets/js/22.7fed5ac6.js"><link rel="prefetch" href="/blog/assets/js/23.6aa0be70.js"><link rel="prefetch" href="/blog/assets/js/24.09d96859.js"><link rel="prefetch" href="/blog/assets/js/25.418504a4.js"><link rel="prefetch" href="/blog/assets/js/26.f0584d72.js"><link rel="prefetch" href="/blog/assets/js/27.cd44913e.js"><link rel="prefetch" href="/blog/assets/js/28.4f5c209f.js"><link rel="prefetch" href="/blog/assets/js/29.2dcd5c40.js"><link rel="prefetch" href="/blog/assets/js/3.11e700f0.js"><link rel="prefetch" href="/blog/assets/js/30.d2e1f594.js"><link rel="prefetch" href="/blog/assets/js/31.7b1f9108.js"><link rel="prefetch" href="/blog/assets/js/32.f4856997.js"><link rel="prefetch" href="/blog/assets/js/33.f6007bb0.js"><link rel="prefetch" href="/blog/assets/js/34.974aeb16.js"><link rel="prefetch" href="/blog/assets/js/35.af78c18d.js"><link rel="prefetch" href="/blog/assets/js/36.0a0639ee.js"><link rel="prefetch" href="/blog/assets/js/37.3a26ab2f.js"><link rel="prefetch" href="/blog/assets/js/38.ba809f55.js"><link rel="prefetch" href="/blog/assets/js/39.fb48ae1b.js"><link rel="prefetch" href="/blog/assets/js/4.31720545.js"><link rel="prefetch" href="/blog/assets/js/40.639ac403.js"><link rel="prefetch" href="/blog/assets/js/41.182c195e.js"><link rel="prefetch" href="/blog/assets/js/42.bd60b723.js"><link rel="prefetch" href="/blog/assets/js/43.7f4ee63e.js"><link rel="prefetch" href="/blog/assets/js/44.1345cf6d.js"><link rel="prefetch" href="/blog/assets/js/45.f0b98685.js"><link rel="prefetch" href="/blog/assets/js/46.97e7267e.js"><link rel="prefetch" href="/blog/assets/js/47.2c6a6d63.js"><link rel="prefetch" href="/blog/assets/js/48.faebaa80.js"><link rel="prefetch" href="/blog/assets/js/49.49af56c0.js"><link rel="prefetch" href="/blog/assets/js/5.232758e0.js"><link rel="prefetch" href="/blog/assets/js/50.b6235237.js"><link rel="prefetch" href="/blog/assets/js/51.8bb71e61.js"><link rel="prefetch" href="/blog/assets/js/52.a8d8e7ae.js"><link rel="prefetch" href="/blog/assets/js/53.259ab2d4.js"><link rel="prefetch" href="/blog/assets/js/54.a1620682.js"><link rel="prefetch" href="/blog/assets/js/55.15b38884.js"><link rel="prefetch" href="/blog/assets/js/56.408630af.js"><link rel="prefetch" href="/blog/assets/js/57.b6ac7546.js"><link rel="prefetch" href="/blog/assets/js/58.82664ed4.js"><link rel="prefetch" href="/blog/assets/js/59.339098b4.js"><link rel="prefetch" href="/blog/assets/js/6.0bf13852.js"><link rel="prefetch" href="/blog/assets/js/60.56bec4a5.js"><link rel="prefetch" href="/blog/assets/js/61.1d5e0a93.js"><link rel="prefetch" href="/blog/assets/js/62.caa7d838.js"><link rel="prefetch" href="/blog/assets/js/63.b2935415.js"><link rel="prefetch" href="/blog/assets/js/64.27d92569.js"><link rel="prefetch" href="/blog/assets/js/65.f84cda40.js"><link rel="prefetch" href="/blog/assets/js/66.1585871d.js"><link rel="prefetch" href="/blog/assets/js/67.dd596334.js"><link rel="prefetch" href="/blog/assets/js/69.e67a606a.js"><link rel="prefetch" href="/blog/assets/js/7.1e456cb7.js"><link rel="prefetch" href="/blog/assets/js/70.7ca5af58.js"><link rel="prefetch" href="/blog/assets/js/71.9ec68011.js"><link rel="prefetch" href="/blog/assets/js/72.50a3a3b0.js"><link rel="prefetch" href="/blog/assets/js/73.e2564842.js"><link rel="prefetch" href="/blog/assets/js/74.b0c6fc38.js"><link rel="prefetch" href="/blog/assets/js/8.3c5dcc01.js"><link rel="prefetch" href="/blog/assets/js/9.33061631.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.ee874cfe.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><img src="https://vuejs.org/images/logo.png" alt="欢迎回来 ！" class="logo"> <span class="site-name can-hide">欢迎回来 ！</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/blog/git/" class="nav-link">
  git
</a></div><div class="nav-item"><a href="/blog/DMP/" class="nav-link">
  DMP
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="JavaScript" class="dropdown-title"><span class="title">JavaScript</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/JavaScript/resfulApi/" class="nav-link">
  模拟数据
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java" class="dropdown-title"><span class="title">Java</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/java/tingshu/" class="nav-link router-link-active">
  小慕听书
</a></li><li class="dropdown-item"><!----> <a href="/blog/java/java_study/env/" class="nav-link">
  Java Study
</a></li><li class="dropdown-item"><!----> <a href="/blog/java/xml/" class="nav-link">
  XML
</a></li><li class="dropdown-item"><!----> <a href="/blog/java/JDBC/" class="nav-link">
  JDBC
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Python" class="dropdown-title"><span class="title">Python</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/Python/python_study/" class="nav-link">
  python基础
</a></li><li class="dropdown-item"><!----> <a href="/blog/Python/basicKnowledge/" class="nav-link">
  一些基础
</a></li><li class="dropdown-item"><!----> <a href="/blog/Python/dataAnalys/" class="nav-link">
  数据分析
</a></li><li class="dropdown-item"><!----> <a href="/blog/Python/zhihu/basis/" class="nav-link">
  网络资料
</a></li><li class="dropdown-item"><!----> <a href="/blog/Python/code/" class="nav-link">
  code
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="MySQL" class="dropdown-title"><span class="title">MySQL</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/mysql/mysql_study/" class="nav-link">
  MySQL基础
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/blog/git/" class="nav-link">
  git
</a></div><div class="nav-item"><a href="/blog/DMP/" class="nav-link">
  DMP
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="JavaScript" class="dropdown-title"><span class="title">JavaScript</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/JavaScript/resfulApi/" class="nav-link">
  模拟数据
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java" class="dropdown-title"><span class="title">Java</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/java/tingshu/" class="nav-link router-link-active">
  小慕听书
</a></li><li class="dropdown-item"><!----> <a href="/blog/java/java_study/env/" class="nav-link">
  Java Study
</a></li><li class="dropdown-item"><!----> <a href="/blog/java/xml/" class="nav-link">
  XML
</a></li><li class="dropdown-item"><!----> <a href="/blog/java/JDBC/" class="nav-link">
  JDBC
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Python" class="dropdown-title"><span class="title">Python</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/Python/python_study/" class="nav-link">
  python基础
</a></li><li class="dropdown-item"><!----> <a href="/blog/Python/basicKnowledge/" class="nav-link">
  一些基础
</a></li><li class="dropdown-item"><!----> <a href="/blog/Python/dataAnalys/" class="nav-link">
  数据分析
</a></li><li class="dropdown-item"><!----> <a href="/blog/Python/zhihu/basis/" class="nav-link">
  网络资料
</a></li><li class="dropdown-item"><!----> <a href="/blog/Python/code/" class="nav-link">
  code
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="MySQL" class="dropdown-title"><span class="title">MySQL</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/mysql/mysql_study/" class="nav-link">
  MySQL基础
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/blog/java/tingshu/" class="sidebar-link">本次课程可以学到</a></li><li><a href="/blog/java/tingshu/swing.html" class="sidebar-link">Swing</a></li><li><a href="/blog/java/tingshu/XunFeiSDK.html" class="active sidebar-link">讯飞SDK</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/java/tingshu/XunFeiSDK.html#java面向对象编程的基础知识" class="sidebar-link">java面向对象编程的基础知识</a></li><li class="sidebar-sub-header"><a href="/blog/java/tingshu/XunFeiSDK.html#讯飞语音sdk接入" class="sidebar-link">讯飞语音SDK接入</a></li><li class="sidebar-sub-header"><a href="/blog/java/tingshu/XunFeiSDK.html#swing事件机制" class="sidebar-link">Swing事件机制</a></li></ul></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="讯飞sdk"><a href="#讯飞sdk" class="header-anchor">#</a> 讯飞SDK</h1> <p>本章内容</p> <ol><li>java面向对象编程的基础知识</li> <li>讯飞语音SDK的申请步骤与使用</li> <li>将讯飞语音SDK结合界面实现文本朗读</li></ol> <h2 id="java面向对象编程的基础知识"><a href="#java面向对象编程的基础知识" class="header-anchor">#</a> java面向对象编程的基础知识</h2> <h3 id="类"><a href="#类" class="header-anchor">#</a> 类</h3> <p>Java 语言是纯面向对象的编程语言，类和对象在 Java 中无处不在。在程序设计时，我们针对事物的<span style="color:red;">特征和行为</span>使用代码进行实现，就是面向对象编程。</p> <p>类 (class) 是一个程序的基本单位，我们之前所编写的 .java 文件都是类。在现实生活中，手机可以是一个类、汽车可以是一个类、学生可以是一个类。类的声明格式如下：</p> <div class="language-java extra-class"><pre class="language-java"><code>访问修饰符 <span class="token keyword">class</span> 类名<span class="token punctuation">{</span>
    <span class="token comment">// 定义成员变量（特征）</span>
    访问修饰符 变量类型 变量名<span class="token punctuation">;</span>   
    <span class="token comment">// 定义成员方法（行为）</span>
    访问修饰符 返回值 方法名<span class="token punctuation">(</span> 参数 <span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token comment">// 具体业务代码</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="对象"><a href="#对象" class="header-anchor">#</a> 对象</h3> <blockquote><p>对象是具体的一个事物，是类的具体实现。</p></blockquote> <p>类和对象的关系:</p> <p>类是一个抽象的概念，可以将它理解成 “模板”，可用于产生对象；而对象是一个具体的事物。</p> <h3 id="对象的实例化"><a href="#对象的实例化" class="header-anchor">#</a> 对象的实例化</h3> <div class="language- extra-class"><pre class="language-text"><code>类名 对象名称 = new 类名();
</code></pre></div><blockquote><p>:主方法(main方法)是程序执行的入口，创建对象并赋值的代码我们一般写在主方法中执行，因为该部分代码与抽象出的类无关，所以主方法一般是写到另一个类运行。
Test.java与Phone.java同级，在Test.java中没看到引入Test.java，但运行test.java是可以用Phone的</p></blockquote> <div class="language- extra-class"><pre class="language-text"><code>public class Test {
    public static void main(String[] args) {
// 实例化学生对象
        Phone xiaoMiPhone = new Phone();
// 给属性赋值
        xiaoMiPhone.camera= &quot;1300万&quot;;
        xiaoMiPhone.shell = &quot;白色玻璃&quot;;
        xiaoMiPhone.memory = &quot;128G&quot;;
        xiaoMiPhone.size = 6;
// 调用并打印成员属性
        System.out.println(&quot;摄像头：&quot; + xiaoMiPhone.camera);
        System.out.println(&quot;外壳：&quot; + xiaoMiPhone.shell);
        System.out.println(&quot;内存：&quot; + xiaoMiPhone.memory );
        System.out.println(&quot;尺寸：&quot; + xiaoMiPhone.size +&quot;寸&quot; );
// 调用成员方法
        System.out.println(&quot; 这部手机可以：&quot; );
        xiaoMiPhone.call();
        xiaoMiPhone.photograph();
        xiaoMiPhone.online ();
    }
}
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>public class Phone {
    // 定义成员变量（特征）
    public  String camera;   // 摄像头
    public  String shell;  // 外壳
    public  String memory ;  //内存
    public int size ;//尺寸
    // 定义成员方法（行为）
    public void call() {
        System.out.println(&quot;打电话&quot;);
    }
    public void photograph() {
        System.out.println(&quot;拍照&quot;);
    }
    public void online() {
        System.out.println(&quot;上网&quot;);
    }

}
</code></pre></div><h3 id="构造方法"><a href="#构造方法" class="header-anchor">#</a> 构造方法</h3> <p>在类中，可定义一个构造方法，也称为构造函数或构造器。命名与类名相同</p> <div class="language- extra-class"><pre class="language-text"><code>public class Phone {
    String camera;
    String shell;
    String memory;
    int size;
	
	public void show (String str){
		// void 说明这个方法没有返回值
	}
	
    // 定义无参构造方法，无返回值并且命名与类名相同
    public Phone() {
        // 这里可以写业务代码，例如：执行输出语句
        System.out.println(&quot;无参构造方法执行了...&quot;);
    }

    // 有参构造方法
    public Phone  (String camera, String shell ) {
        // 将参数变量赋值给实例变量
        this.camera = camera ;
        this.shell = shell ;
    }
    // 有参构造方法
    public Phone  (String camera, String shell ,String memory , int size ) {
        // 将参数变量赋值给实例变量
        this.camera = camera ;
        this.shell = shell ;
        this.memory = memory ;
        this.size = size ;
    }
    public static void main(String[] args){
//        Phone xiaoMiPhone= new Phone();
//        xiaoMiPhone.camera= &quot;1300万&quot;;
//        xiaoMiPhone.shell = &quot;白色玻璃&quot;;
        Phone xiaoMiPhone= new Phone(&quot;1300万&quot;,&quot;白色玻璃&quot;);
        System.out.println(&quot;摄像机为：&quot; + xiaoMiPhone.camera );
        System.out.println(&quot;外壳为：&quot; + xiaoMiPhone.shell );
    }
}

</code></pre></div><h3 id="包"><a href="#包" class="header-anchor">#</a> 包</h3> <h4 id="为什么需要包"><a href="#为什么需要包" class="header-anchor">#</a> 为什么需要包</h4> <p>当程序规模越来越大，类的数量也会随之增多。使用包将这些类分组后，可以让类更易于查找和使用，也可以避免命名冲突。</p> <h4 id="包语法"><a href="#包语法" class="header-anchor">#</a> 包语法</h4> <p>使用关键字在类的顶部声明一个包：</p> <div class="language- extra-class"><pre class="language-text"><code>package com.imooc ;    //包名
public class Demo {
}
</code></pre></div><p>上面的代码就表示 Demo类放到了 com.imooc 包下，我们也可以说：Demo 在com.imooc 包中声明。我们的类如果在包中声明，那么类就必须放置在源码目录下以包名称命名的子目录中。这样编译器才能在系统中找到 Java 文件。
包的命名规范为：包名要全部小写，一般采取公司域名倒写的方式</p> <h4 id="导入包"><a href="#导入包" class="header-anchor">#</a> 导入包</h4> <h5 id="_3-1-完整类名导入"><a href="#_3-1-完整类名导入" class="header-anchor">#</a> 3.1 完整类名导入</h5> <p>在类名前面加上包名（我们称为完整类名），就可以使用指定包中的类。例如，对与上面示例的项目结构，我们想在 Test类中使用 Demo 类，可以这样写：</p> <div class="language- extra-class"><pre class="language-text"><code>package com ;
public class Test {
    com.imooc.Demo demo = new com.imooc.Demo();
}
</code></pre></div><h5 id="_3-2-import-关键字导入"><a href="#_3-2-import-关键字导入" class="header-anchor">#</a> 3.2 import 关键字导入</h5> <p>上面的语法比较冗长，我们可以使用 import 关键字在文件顶部导入指定包中类，在代码中就不必指定包名来使用类了。例如，上面的代码可以改成写：</p> <div class="language- extra-class"><pre class="language-text"><code>package com;
import com.imooc.Demo;
public class Test {
    Demo  demo = new Demo ();
}
</code></pre></div><p>如果有两个或多个类名相同，那么就不能使用 import 关键字同时导入了，此时建议使用完整类名的方式使用类。</p> <h4 id="_3-3-通配符导入"><a href="#_3-3-通配符导入" class="header-anchor">#</a> 3.3 通配符导入</h4> <p>在使用 import 关键字时，可以使用通配符 * 来导入指定包下面的所有类。例如：</p> <div class="language- extra-class"><pre class="language-text"><code>package service ;
import com.*;
public class DemoService {
    Demo demo = new Demo();
}
</code></pre></div><h3 id="访问修饰符"><a href="#访问修饰符" class="header-anchor">#</a> 访问修饰符</h3> <p>访问修饰符中具有四种不同的类型：</p> <ol><li>public（公共的）: 在任何地方都能访问public修饰的元素</li> <li>private（私有的）：只能在当前类访问private修饰的元素</li> <li>protected(保护的）：只能在子类中访问父类protected修饰的元素，或者这两个类在同一个包下。protected因为涉及到类的继承关系，这里你先了解一下，后面章节会对类的继承进行讲解。</li> <li>default(默认) : default比较特殊，在代码中体现为什么都不写，被default修饰的元素只能在当前包（package）中被访问</li></ol> <div class="language- extra-class"><pre class="language-text"><code>package com.imooc;
public class Pet {
    public String type; //公共的
    private String name; //私有的
    int age; //默认的
    protected float weight; //保护的
}
</code></pre></div><h3 id="java继承"><a href="#java继承" class="header-anchor">#</a> java继承</h3> <h4 id="概念"><a href="#概念" class="header-anchor">#</a> 概念</h4> <p>继承是面向对象软件技术当中的一个概念。如果一个类别 B “继承自” 另一个类别 A，就把这个 B 称为 “A 的子类”，而把 A 称为 “B 的父类” 也可以称 “A 是 B 的超类”。</p> <p>继承可以使得子类具有父类除构造方法外的，其他各种非私有（非私有：不是private修饰的）属性和方法，而不需要再次编写相同的代码。</p> <p>利用继承，新建的类可以在原有类的基础上进行扩展或修改。新建的类成为子类，而原有类为新建类的父类，如果 A 是 B 的父类，B 是 C 的父类，那么 C 也是 A 的子类。</p> <h4 id="特点"><a href="#特点" class="header-anchor">#</a> 特点</h4> <p>Java 中的继承为单一继承，也就是说，一个子类只能拥有一个父类，一个父类可以拥有多个子类。
另外，所有的 Java 类都继承自 Java.lang.Object，所以 Object 是所有类的祖先类，除了 Object 外，所有类都有一个父类。我们在定义类的时候没有显示指定其父类，它默认就继承自 Object 类。
子类一旦继承父类，就会继承父类除构造方法外的，所有非私有的属性和方法，不能选择性地继承父类属性和方法。</p> <h4 id="extends关键字实现继承"><a href="#extends关键字实现继承" class="header-anchor">#</a> extends关键字实现继承</h4> <div class="language- extra-class"><pre class="language-text"><code>// 父类
class SuperClass {	
}
// 子类
class SubClass extends SuperClass {
}
</code></pre></div><h2 id="讯飞语音sdk接入"><a href="#讯飞语音sdk接入" class="header-anchor">#</a> 讯飞语音SDK接入</h2> <h3 id="讯飞语音的接入流程"><a href="#讯飞语音的接入流程" class="header-anchor">#</a> 讯飞语音的接入流程</h3> <ol><li>开通语音合成服务，获取认证授权信息</li> <li>设置不同语音合成参数，发送文本到语音服务器</li> <li>语音服务器生成MP3语音文件，java下载到本地保存</li> <li>java程序播放MP3文件，实现文本朗读功能</li></ol> <h3 id="接口调用流程"><a href="#接口调用流程" class="header-anchor">#</a> 接口调用流程</h3> <p>通过接口密钥基于hmac-sha256计算签名，向服务器端发送Websocket协议握手请求。详见下方 接口鉴权 。
握手成功后，客户端通过Websocket连接同时上传和接收数据。数据上传完毕，客户端需要上传一次数据结束标识。详见下方 接口数据传输与接收 。
接收到服务器端的结果全部返回标识后断开Websocket连接。
注： Websocket使用注意事项如下</p> <ol><li>服务端支持的websocket-version 为13，请确保客户端使用的框架支持该版本。</li> <li>服务端返回的所有的帧类型均为TextMessage，对应于原生websocket的协议帧中opcode=1，请确保客户端解析到的帧类型一定为该类型，如果不是，请尝试升级客户端框架版本，或者更换技术框架。</li> <li>如果出现分帧问题，即一个json数据包分多帧返回给了客户端，导致客户端解析json失败。出现这种问题大部分情况是客户端的框架对websocket协议解析存在问题，如果出现请先尝试升级框架版本，或者更换技术框架。</li> <li>客户端会话结束后如果需要关闭连接，尽量保证传给服务端的错误码为websocket错误码1000（如果客户端框架没有提供关闭时传错误码的接口。则无需关注本条）。</li></ol> <p>课程提供封装好的组件包了（.jar），jar是java程序最后生成的产物，如何引用人家的包呢。</p> <p>通常组件包会有两个，如tts-utils.jar和tts-utils-sources.jar，后者是源代码包
将jar包放到工程项目lib目录，并引用。
引入操作： File &gt; Project structure &gt; Project Settings &gt; Libraires &gt; “+” &gt; JAVA &gt; 选择要引入的包.jar &gt; 选择模块
如果导入成功，在ide面板中，引入的jar包会变成可下拉，查看文件，但打开里面的文件，有些是代码是看不到的，这时候可以需要包的源代码文件才行。这时候，源代码包就有用了。
在打开jar包的文件的情况下，点击右上有“choose sources”，选择源码包，就可以看到更多信息了。</p> <h2 id="swing事件机制"><a href="#swing事件机制" class="header-anchor">#</a> Swing事件机制</h2> <p>前端嘛</p> <div class="language- extra-class"><pre class="language-text"><code>//鼠标事件监听器，addKeyListener()键盘事件监听器
Swing组件.addMouseListener( 
    //MouseAdapter提供了鼠标事件的处理方法
    //常用事件名：
    //mouseCliecked() -&gt; 鼠标单击
    //mouseEntered() -&gt; 鼠标移入组件
    //mouseExited() -&gt; 鼠标移出组件
    //mouseMoved() -&gt; 鼠标在组件上移动
    (MouseAdapter)事件名(e)-&gt;{ 
        //处理代码
    }
);

JButton btnClose = new JButton(); 
btnClose.setText(&quot;关闭&quot;);
...
btnClose.addMouseListener(
    (MouseAdapter)mouseExited(e)-&gt;{
        System.out.println(&quot;鼠标已从按钮上离开&quot;)
    }
);
</code></pre></div><h3 id="开发环境中使用swing"><a href="#开发环境中使用swing" class="header-anchor">#</a> 开发环境中使用swing</h3> <p>组件名称的 Name 与代码相关，右键组件，添加事件监听 Add Event Handler，
然后选择监听类型 mouselistener ，选择点击/移入、移出，&gt; 自动生成代码名字  【组件名+事件类型】</p> <p>运行需要启动Swing应用
首先，需要现在swing生成的.java文件的类中，添加pvsm  ，main 函数。</p> <div class="language-java extra-class"><pre class="language-java"><code>   <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//Swing框架,用于生成一个容纳界面的窗口</span>
        <span class="token class-name">JFrame</span> jFrame <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JFrame</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//设置窗口大小</span>
        jFrame<span class="token punctuation">.</span><span class="token function">setSize</span><span class="token punctuation">(</span><span class="token number">700</span><span class="token punctuation">,</span><span class="token number">630</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//设置窗口标题</span>
        jFrame<span class="token punctuation">.</span><span class="token function">setTitle</span><span class="token punctuation">(</span><span class="token string">&quot;小慕听书&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//创建SwingEvent界面对象</span>
        <span class="token class-name">SwingEvent</span> swingEvent <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SwingEvent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
        <span class="token comment">//将SwingEvent嵌入到窗口中</span>
        jFrame<span class="token punctuation">.</span><span class="token function">setContentPane</span><span class="token punctuation">(</span>swingEvent<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//显示窗口</span>
        jFrame<span class="token punctuation">.</span><span class="token function">setVisible</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//禁止窗口改变大小</span>
        jFrame<span class="token punctuation">.</span><span class="token function">setResizable</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//点击窗口关闭按钮,应用自动退出</span>
        jFrame<span class="token punctuation">.</span><span class="token function">setDefaultCloseOperation</span><span class="token punctuation">(</span><span class="token class-name">JFrame</span><span class="token punctuation">.</span>EXIT_ON_CLOSE<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre></div><p>Jpanel还内置了弹框，类似alter的那种，通过方法调用</p> <div class="language- extra-class"><pre class="language-text"><code>JOptionPane.showMessageDialog(null,&quot;触发了单击事件&quot;,&quot;Click Me!!!&quot;,JOptionPane.ERROR_MESSAGE);
							父组件		内容			标题				提示类型
</code></pre></div><h3 id="swing组件联动"><a href="#swing组件联动" class="header-anchor">#</a> Swing组件联动</h3> <h4 id="滑块slider-与-标签label内容-的联动"><a href="#滑块slider-与-标签label内容-的联动" class="header-anchor">#</a> 滑块slider 与 标签label内容 的联动</h4> <p>slider组件 右键 &quot;changelistener statechange&quot;
在.jfd中 通过对象内置的函数，进行获取值与赋值</p> <div class="language- extra-class"><pre class="language-text"><code>private void slider1StateChanged(ChangeEvent e) {
        // TODO add your code here
        int value = this.slider1.getValue();
        this.label1.setText(&quot;值&quot;+value);
    }
</code></pre></div><h4 id="鼠标在textarea组件-mousemotionlistener-mousemoved"><a href="#鼠标在textarea组件-mousemotionlistener-mousemoved" class="header-anchor">#</a> 鼠标在textArea组件&gt;mouseMotionListener&gt;mouseMoved</h4> <h4 id="中移动-与-标签label-联动"><a href="#中移动-与-标签label-联动" class="header-anchor">#</a> 中移动 与 标签label 联动</h4> <p>textArea组件&gt;mouseMotionListener&gt;mouseMoved</p> <div class="language- extra-class"><pre class="language-text"><code>private void textArea1MouseMoved(MouseEvent e) {
        // TODO add your code here
        label2.setText(e.getX()+&quot;:&quot;+e.getY()+&quot;    &quot;+e.getXOnScreen()+&quot;:&quot;+e.getYOnScreen());
    }
</code></pre></div><p>getX()获取相对当前组件的位置，getXOnScreen()获取相对面板位置
····就是前端的嘛</p> <h4 id="swing组件联动，调用java类"><a href="#swing组件联动，调用java类" class="header-anchor">#</a> swing组件联动，调用java类</h4> <div class="language- extra-class"><pre class="language-text"><code>import javax.swing.event.*;
import com.imooc.ireader.utils.TTS;

import java.awt.*;
import java.awt.event.*;
import javax.swing.*;
/*
 * Created by JFormDesigner on Mon May 09 20:38:50 CST 2022
 */



/**
 * @author lcs
 */
public class sad extends JPanel {
    private int speed = 50;
    private int volume = 50;

    public sad() {
        initComponents();
    }

    private void doTTS(String voidename){
        String text = this.textArea1.getText();
        //trim()方法用户删除字符串前后空格
        if(text.trim().length()==0){
            JOptionPane.showMessageDialog(null,&quot;请输入文本&quot;,&quot;标题：警告&quot;,JOptionPane.WARNING_MESSAGE);
            return; //终止后续运行
        }
        TTS tts = new TTS();
        tts.appid = &quot;711a645f&quot;;
        tts.apiKey = &quot;1d2a552b77309a8c4286f8402fde9aa2&quot;;
        tts.apiSecret = &quot;YjVhNzk3YTM0OGI4ZDcwMDY3MmZiNzhm&quot;;
        tts.voiceLocation = &quot;D:/MBA/java_code/voice&quot;;
        String authUrl = tts.getAuthUrl();
        String filePath = tts.startDoTTS(authUrl,text,voidename,this.speed,this.volume);
        tts.play(filePath);
    }

    public static void main(String[] args) {
        JFrame jFrame = new JFrame();
        jFrame.setSize(700,650);
        jFrame.setResizable(false);
        jFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        jFrame.setContentPane(new sad());
        jFrame.setTitle(&quot;xiaomutingshu&quot;);
        jFrame.setVisible(true);

    }

    private void button3MouseClicked(MouseEvent e) {
        // TODO add your code here
        this.doTTS(&quot;aisjiuxu&quot;);
    }

    private void slider1StateChanged(ChangeEvent e) {
        // TODO add your code here
        this.speed = this.slider1.getValue();
    }

    private void slider2StateChanged(ChangeEvent e) {
        // TODO add your code here
        this.volume = this.slider2.getValue();
    }

    private void button4MouseClicked(MouseEvent e) {
        // TODO add your code here
        this.doTTS(&quot;xiaoyan&quot;);
    }
}
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/blog/java/tingshu/swing.html" class="prev">
        Swing
      </a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/blog/assets/js/app.7a4660d2.js" defer></script><script src="/blog/assets/js/2.85e08d05.js" defer></script><script src="/blog/assets/js/68.7f108fcc.js" defer></script>
  </body>
</html>
