(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{323:function(t,s,a){t.exports=a.p+"assets/img/mysql1.9a6635ba.jpg"},391:function(t,s,a){"use strict";a.r(s);var n=a(28),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"mysql基础"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#mysql基础"}},[t._v("#")]),t._v(" MySQL基础")]),t._v(" "),n("p"),n("div",{staticClass:"table-of-contents"},[n("ul",[n("li",[n("a",{attrs:{href:"#mysql基础"}},[t._v("MySQL基础")]),n("ul",[n("li",[n("a",{attrs:{href:"#_1-mysql数据库安装与配置"}},[t._v("1 MySQL数据库安装与配置")]),n("ul",[n("li",[n("a",{attrs:{href:"#_1-1-用户管理"}},[t._v("1.1 用户管理")]),n("ul",[n("li",[n("a",{attrs:{href:"#_1-1-2-navicat"}},[t._v("1.1.2 navicat")])]),n("li",[n("a",{attrs:{href:"#_1-1-2-重设root密码"}},[t._v("1.1.2 重设root密码")])])])]),n("li",[n("a",{attrs:{href:"#_1-2-mysql配置文件"}},[t._v("1.2 mysql配置文件")]),n("ul",[n("li",[n("a",{attrs:{href:"#_1-2-1-my-ini"}},[t._v("1.2.1 my.ini")])])])])])]),n("li",[n("a",{attrs:{href:"#_2-mysql表操作"}},[t._v("2 MySQL表操作")]),n("ul",[n("li",[n("a",{attrs:{href:"#_2-1-管理逻辑库和数据表"}},[t._v("2.1 管理逻辑库和数据表")]),n("ul",[n("li",[n("a",{attrs:{href:"#_2-1-1-sql语言分类"}},[t._v("2.1.1 SQL语言分类")])]),n("li",[n("a",{attrs:{href:"#_2-1-2-创建逻辑库"}},[t._v("2.1.2 创建逻辑库")])]),n("li",[n("a",{attrs:{href:"#_2-1-3-插入数据"}},[t._v("2.1.3 插入数据")])])])]),n("li",[n("a",{attrs:{href:"#_2-2-常用的数据类型和约束"}},[t._v("2.2 常用的数据类型和约束")]),n("ul",[n("li",[n("a",{attrs:{href:"#_2-2-1-数字"}},[t._v("2.2.1 数字")])]),n("li",[n("a",{attrs:{href:"#_2-2-2-字符串"}},[t._v("2.2.2 字符串")])]),n("li",[n("a",{attrs:{href:"#_2-2-3-日期类型"}},[t._v("2.2.3 日期类型")])])])]),n("li",[n("a",{attrs:{href:"#_2-3-修改表结构"}},[t._v("2.3 修改表结构")]),n("ul",[n("li",[n("a",{attrs:{href:"#_2-3-1-添加字段-add"}},[t._v("2.3.1 添加字段 ADD")])]),n("li",[n("a",{attrs:{href:"#_2-3-2-修改已有字段-modify"}},[t._v("2.3.2 修改已有字段 MODIFY")])]),n("li",[n("a",{attrs:{href:"#_2-3-3-修改字段名称-change"}},[t._v("2.3.3 修改字段名称 CHANGE")])]),n("li",[n("a",{attrs:{href:"#_2-3-4-删除字段"}},[t._v("2.3.4 删除字段")])])])]),n("li",[n("a",{attrs:{href:"#_2-4-字段约束"}},[t._v("2.4 字段约束")]),n("ul",[n("li",[n("a",{attrs:{href:"#_2-4-1-数据句的范式"}},[t._v("2.4.1 数据句的范式")])]),n("li",[n("a",{attrs:{href:"#_2-4-2-主键约束"}},[t._v("2.4.2 主键约束")])]),n("li",[n("a",{attrs:{href:"#_2-4-3-外键约束"}},[t._v("2.4.3 外键约束")])])])]),n("li",[n("a",{attrs:{href:"#_2-3-索引运行机制和使用原则"}},[t._v("2.3 索引运行机制和使用原则")])])])])])])])]),n("p"),t._v(" "),n("h2",{attrs:{id:"_1-mysql数据库安装与配置"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-mysql数据库安装与配置"}},[t._v("#")]),t._v(" 1 MySQL数据库安装与配置")]),t._v(" "),n("p",[t._v("数据库系统（DBMS）")]),t._v(" "),n("blockquote",[n("p",[t._v("关系模型中，数据是分类存放的，数据直接可以有联系")])]),t._v(" "),n("p",[t._v("主流关系型数据库：")]),t._v(" "),n("ol",[n("li",[t._v("IBM的 DB2 数据库，随服务器硬件赠送的，但服务器硬件价格不低，采购成本高。所以一般用在超大型项目。")]),t._v(" "),n("li",[t._v("甲骨文的 Oracle。性能强，采购成本比DB2低，一般根据cup数量、内存数量、主频高低收费。非开源。")]),t._v(" "),n("li",[t._v("MySQL 开源的数据库，虽然性能相对 oRACLE、DB2要差，但灵活二次开发。阿里巴巴等都是二次开发。")]),t._v(" "),n("li",[t._v("微软的 SQL Server，优秀的图形界面，教育领域免费使用。1、2、3都是可跨平台、多系统安装，但SQL Server仅在windows系统下。通常生产环境是在linux下，加之SQL Server网上资料少，不建议使用。")])]),t._v(" "),n("blockquote",[n("p",[t._v("NoSQL 数据库\nNoSQL数据库 指的是数据分类存放，但数据之间内衣关联关系的数据库系统。ta没有SQL语言，不能从多个数据文件中提取数据。")])]),t._v(" "),n("p",[t._v("NoSQL数据库是关系型数据库的补充，一般使用业务场景：")]),t._v(" "),n("ol",[n("li",[t._v("秒杀库存。活动促销中，秒杀容易出现超卖。超卖原因：数据库系统是多线程的，多线程容易出现超卖。关系型数据库是多线程的，NoSQL数据库Redis是单线程的，不会出现超卖")]),t._v(" "),n("li",[t._v("登陆信息、通知消息等。关系型数据库保存之前，需要先建表，定义字段的类型，约束条件（哪些列不能有空值、重复值等），在高速写入的时候，这样的校验会降低写入速度。如果用在保存低价值数据上，浪费数据库。NoSQL没有严格表结构、数据读写没有那么多的数据校验，所以读写速度远超关系型数据库。")]),t._v(" "),n("li",[t._v("长篇幅字符内容。新闻。mysql不合适。")])]),t._v(" "),n("p",[t._v("主流NoSQL数据库：")]),t._v(" "),n("ol",[n("li",[t._v("Redis。内存保存数据。内存读取速度远超硬盘。如保存微博大V热点信息，电商网站首页信息")]),t._v(" "),n("li",[t._v("MemCache 同redis也是内存保存数据，份额比后者低；")]),t._v(" "),n("li",[t._v("MongoDB。以硬盘存储方式，保存海量低价值数据。如新闻、留言、朋友圈等")]),t._v(" "),n("li",[t._v("Neo4J 以硬盘存储方式，用于保存复杂的组织关系和人际关系。")])]),t._v(" "),n("p",[t._v("Mysql衍生版：percona、mariadb")]),t._v(" "),n("hr"),t._v(" "),n("h3",{attrs:{id:"_1-1-用户管理"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-用户管理"}},[t._v("#")]),t._v(" 1.1 用户管理")]),t._v(" "),n("h4",{attrs:{id:"_1-1-2-navicat"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-2-navicat"}},[t._v("#")]),t._v(" 1.1.2 navicat")]),t._v(" "),n("p",[t._v("mysql客户端")]),t._v(" "),n("ol",[n("li",[t._v("【用户】【主机】【%】表示任何ip地址")]),t._v(" "),n("li",[t._v("创建逻辑空间，即新建数据库")]),t._v(" "),n("li",[t._v("新增用户，然后分配权限")]),t._v(" "),n("li",[t._v("【服务器权限】全局的权限")]),t._v(" "),n("li",[t._v("【权限】可以设置如dev用户仅可以对某个库进行常规增insert删delete查select改update操作，删表、逻辑空间是drop")]),t._v(" "),n("li",[t._v("mysql数据文件是被隐藏起来的")])]),t._v(" "),n("hr"),t._v(" "),n("h4",{attrs:{id:"_1-1-2-重设root密码"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-2-重设root密码"}},[t._v("#")]),t._v(" 1.1.2 重设root密码")]),t._v(" "),n("p",[t._v("创建一个txt文件，定义修改密码是sql语句")]),t._v(" "),n("div",{staticClass:"language-sql extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ALTER")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("USER")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'root@localhost'")]),t._v(" IDENTIFIED "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("BY")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'123456'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("p",[t._v("root@localhsot:  给root账户设置密码，@后是设置root账户的登录方式，可以是本地localhost，设置为“ % ”即可以远程、本地登陆；")]),t._v(" "),n("p",[t._v("用管理员身份运行cmd，先 net stop mysql80  关闭名为mysql80 的服务；")]),t._v(" "),n("p",[t._v("命令行运行")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v('mysqld --defaults-file="C:\\ProgramData\\MySQL\\MySQL Server 8.0\\my.ini" --init-file="C:\\Users\\46957\\Desktop\\XX.txt" --console\n')])])]),n("p",[t._v("路径有空格，用打双引号“”；路径是mysql数据地址的my.ini；还有上面的txt文件")]),t._v(" "),n("hr"),t._v(" "),n("h3",{attrs:{id:"_1-2-mysql配置文件"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-mysql配置文件"}},[t._v("#")]),t._v(" 1.2 mysql配置文件")]),t._v(" "),n("h4",{attrs:{id:"_1-2-1-my-ini"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-1-my-ini"}},[t._v("#")]),t._v(" 1.2.1 my.ini")]),t._v(" "),n("div",{staticClass:"language-text extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v('[client]\nport=3306 # 客户端链接数据库时，没有指明端口的话，默认3306端口\n[mysql]\nno-beep  # 命令行客户端执行sql语句发生错误时，设置主板不蜂鸣\n[mysqld]\nport=3306 #端口号\ndatadir=C:/ProgramData/MySQL/MySQL Server 8.0\\Data # 数据目录\nauthentication_policy=mysql_native_password,,   #密码认证插件\ndefault-storage-engine=INNODB   #默认存储引擎 （INNODB支持事物机制，适合保持数据一致，重要数据需要用\nsql-mode="STRICT_TRANS_TABLES,NO_ENGINE_SUBSTITUTION"   #开启严格模式【非严格下，数据字段不一致时，数据类型可以自动转；严格下，会报错】\nlog-output=FILE # 用文件记录日志\ngeneral-log=0   # 关闭日志输出\ngeneral_log_file="LCS-MI.log"   # 日志文件名称\nslow-query-log=1 # 开启慢查询日志 【sql查询速度】\nslow_query_log_file="LCS-MI-slow.log" #慢查询日志文件名称\nlong_query_time=10  #大于多少秒的执行sql杯记录在慢查询日志中\nlog-error="LCS-MI.err"  #错误日志名称\nlog-bin="LCS-MI-bin"\nserver-id=1 #数据库id 【单机mysql用不到，mysql集群会用到】\nlower_case_table_names=1    #把表名转换成小写\nsecure-file-priv="C:/ProgramData/MySQL/MySQL Server 8.0/Uploads"    #导入导出数据的目录地址\nmax_connections=151 #最大连接数  最大连接客户端的数量\ntable_open_cache=4000\ntmp_table_size=91M #缓存的大小\nthread_cache_size=10    #线程数量 【数据库服务器可以调高点，如20-30。好的配置可以更高】\nmyisam_max_sort_file_size=100G\nmyisam_sort_buffer_size=171M\nkey_buffer_size=8M\nread_buffer_size=64K\nread_rnd_buffer_size=256K\ninnodb_flush_log_at_trx_commit=1\ninnodb_log_buffer_size=1M\ninnodb_buffer_pool_size=128M\ninnodb_log_file_size=48M\ninnodb_thread_concurrency=17\ninnodb_autoextend_increment=64\ninnodb_buffer_pool_instances=8\ninnodb_concurrency_tickets=5000\ninnodb_old_blocks_time=1000\ninnodb_stats_on_metadata=0\ninnodb_file_per_table=1\ninnodb_checksum_algorithm=0\nback_log=80\nflush_time=0\njoin_buffer_size=256K\nmax_allowed_packet=64M\nmax_connect_errors=100\nopen_files_limit=8161\nsort_buffer_size=256K\ntable_definition_cache=2000\nbinlog_row_event_max_size=8K\nsync_source_info=10000\nsync_relay_log=10000\nsync_relay_log_info=10000\nloose_mysqlx_port=33060\n')])])]),n("hr"),t._v(" "),n("h2",{attrs:{id:"_2-mysql表操作"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-mysql表操作"}},[t._v("#")]),t._v(" 2 MySQL表操作")]),t._v(" "),n("h3",{attrs:{id:"_2-1-管理逻辑库和数据表"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-管理逻辑库和数据表"}},[t._v("#")]),t._v(" 2.1 管理逻辑库和数据表")]),t._v(" "),n("h4",{attrs:{id:"_2-1-1-sql语言分类"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-1-sql语言分类"}},[t._v("#")]),t._v(" 2.1.1 SQL语言分类")]),t._v(" "),n("ol",[n("li",[t._v("DML 添加、修改、删除、查询")]),t._v(" "),n("li",[t._v("DCL 用户、权限、事务")]),t._v(" "),n("li",[t._v("DDL 逻辑库、数据表、视图、索引")])]),t._v(" "),n("hr"),t._v(" "),n("h4",{attrs:{id:"_2-1-2-创建逻辑库"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-2-创建逻辑库"}},[t._v("#")]),t._v(" 2.1.2 创建逻辑库")]),t._v(" "),n("div",{staticClass:"language-sql extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[t._v(" mysql"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("CREATE")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DATABASE")]),t._v(" 逻辑库名称"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n mysql"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SHOW")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DATABASES")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n mysql"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DROP")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DATABASE")]),t._v(" 逻辑库名称"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("hr"),t._v(" "),n("h5",{attrs:{id:"_2-1-2-创建数据表"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-2-创建数据表"}},[t._v("#")]),t._v(" 2.1.2 创建数据表")]),t._v(" "),n("p",[t._v("有逻辑空间，然后创建数据表")]),t._v(" "),n("div",{staticClass:"language-sql extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("CREATE")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("TABLE")]),t._v(" 数据表"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n\t列名"),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" 数据类型 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("约束"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("COMMENT")]),t._v(" 注释"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t列名"),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" 数据类型 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("约束"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("COMMENT")]),t._v(" 注释"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("COMMENT")]),t._v(" 注释"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("USE")]),t._v(" lcs_test2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("CREATE")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("TABLE")]),t._v(" student"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n\tid "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("INT")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("UNSIGNED")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("PRIMARY")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("KEY")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("   \n\tNAME "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("VARCHAR")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("NOT")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("NULL")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\tsex "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("CHAR")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("NOT")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("NULL")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\tbirthday "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DATE")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("NOT")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("NULL")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\ttel "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("CHAR")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("11")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("NOT")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("NULL")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\tremark "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("VARCHAR")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("200")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("ol",[n("li",[t._v("[]中括号的，可写可不写")]),t._v(" "),n("li",[t._v("INT是整数，学生序号不能为负数，所以无符号整数UNSIGNED，就是正整数")]),t._v(" "),n("li",[t._v("PRIMARY KEY主键，即id字段不能重复")]),t._v(" "),n("li",[t._v("VARCHAR(20) 字符串，最大不超过20字符")]),t._v(" "),n("li",[t._v("NOT NULL 必须填写，不能为空")])]),t._v(" "),n("blockquote",[n("p",[t._v("数据表的其他操作")])]),t._v(" "),n("div",{staticClass:"language-sql extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SHOW")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("tables")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 查看逻辑空间里有上面数据表")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DESC")]),t._v(" student"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#查看数据表student的具体情况")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SHOW")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("CREATE")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("TABLE")]),t._v(" student"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#查看当初创建数据表student的sql语句")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DROP")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("TABLE")]),t._v(" student"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#销毁表")]),t._v("\n")])])]),n("hr"),t._v(" "),n("h4",{attrs:{id:"_2-1-3-插入数据"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-3-插入数据"}},[t._v("#")]),t._v(" 2.1.3 插入数据")]),t._v(" "),n("div",{staticClass:"language-sql extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("INSERT")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("INTO")]),t._v(" student "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("VALUES")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"朵朵"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"男"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2021-07-01"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"13242816991"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("NULL")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("p",[t._v("数据表文件 后缀  .idb")]),t._v(" "),n("hr"),t._v(" "),n("h3",{attrs:{id:"_2-2-常用的数据类型和约束"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-常用的数据类型和约束"}},[t._v("#")]),t._v(" 2.2 常用的数据类型和约束")]),t._v(" "),n("p",[t._v("字符串、证书、浮点数、精确数字、日期、枚举、主键约束、非空约束、唯一约束、外键约束")]),t._v(" "),n("h4",{attrs:{id:"_2-2-1-数字"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-1-数字"}},[t._v("#")]),t._v(" 2.2.1 数字")]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",[t._v("类型")]),t._v(" "),n("th",[t._v("大小")]),t._v(" "),n("th",[t._v("说明")])])]),t._v(" "),n("tbody",[n("tr",[n("td",[t._v("TINYINT")]),t._v(" "),n("td",[t._v("1字节")]),t._v(" "),n("td",[t._v("小整数  从 -2^7 (-128) 到 2^7 - 1 (127) 的整型数据。\t带符号的范围是-128到127。无符号的范围是0到255")])]),t._v(" "),n("tr",[n("td",[t._v("SMALLINT")]),t._v(" "),n("td",[t._v("2字节")]),t._v(" "),n("td",[t._v("普通整数\t有符号的 SMALLINT 值的范围是 –2^15（2^15表示2的15次幂） 到2^15 – 1，即 –32768 到 32767。无符号的 SMALLINT 值范围是 0 到 2^16 – 1，即 0 到 65535。")])]),t._v(" "),n("tr",[n("td",[t._v("MEDIUMINT")]),t._v(" "),n("td",[t._v("3字节")]),t._v(" "),n("td",[t._v("普通整数\t值范围为：-8388608到8388607，无符号的范围是0到16777215。")])]),t._v(" "),n("tr",[n("td",[t._v("INT")]),t._v(" "),n("td",[t._v("4字节")]),t._v(" "),n("td",[t._v("较大整数  围为-2147483648~+2147483647,无符号情况下表示为0~4294967295。")])]),t._v(" "),n("tr",[n("td",[t._v("BIGINT")]),t._v(" "),n("td",[t._v("8字节")]),t._v(" "),n("td",[t._v("大整数")])]),t._v(" "),n("tr",[n("td",[t._v("FLOAT")]),t._v(" "),n("td",[t._v("4字节")]),t._v(" "),n("td",[t._v("单精度浮点数")])]),t._v(" "),n("tr",[n("td",[t._v("DOUBLE")]),t._v(" "),n("td",[t._v("8字节")]),t._v(" "),n("td",[t._v("双精度浮点数")])]),t._v(" "),n("tr",[n("td",[t._v("DECIMAL")]),t._v(" "),n("td",[t._v("----")]),t._v(" "),n("td",[t._v("DECIMAL(10,2)\tfloat和doubel的精度还不够高，记录精度高的数据用decimal")])])])]),t._v(" "),n("blockquote",[n("p",[t._v("十进制的浮点数无法在计算机中用二进制精确表达\n设置字段 num  ---  FLOAT(20,10);   #20位，小数点后有10位")])]),t._v(" "),n("p",[t._v("存0.2时，会出现0.20000...30")]),t._v(" "),n("p",[t._v("想不丢失精度，设置字段的时候 num用DECIMAL(20,10)")]),t._v(" "),n("hr"),t._v(" "),n("h4",{attrs:{id:"_2-2-2-字符串"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-2-字符串"}},[t._v("#")]),t._v(" 2.2.2 字符串")]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",[t._v("类型")]),t._v(" "),n("th",[t._v("大小")]),t._v(" "),n("th",[t._v("说明")])])]),t._v(" "),n("tbody",[n("tr",[n("td",[t._v("CHAR")]),t._v(" "),n("td",[t._v("1-255字符")]),t._v(" "),n("td",[t._v("固定长度字符串")])]),t._v(" "),n("tr",[n("td",[t._v("VARCHAR")]),t._v(" "),n("td",[t._v("1-65535字符")]),t._v(" "),n("td",[t._v("不固定长度字符串")])]),t._v(" "),n("tr",[n("td",[t._v("TEXT")]),t._v(" "),n("td",[t._v("1-65535字符")]),t._v(" "),n("td",[t._v("不确定长度字符串")])]),t._v(" "),n("tr",[n("td",[t._v("MEDIUMTEXT")]),t._v(" "),n("td",[t._v("1-1千6百万字符")]),t._v(" "),n("td",[t._v("不确定长度字符串")])]),t._v(" "),n("tr",[n("td",[t._v("LONGTEXT")]),t._v(" "),n("td",[t._v("1-42亿字符")]),t._v(" "),n("td",[t._v("不确定长度字符串")])])])]),t._v(" "),n("hr"),t._v(" "),n("h4",{attrs:{id:"_2-2-3-日期类型"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-3-日期类型"}},[t._v("#")]),t._v(" 2.2.3 日期类型")]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",[t._v("类型")]),t._v(" "),n("th",[t._v("大小")]),t._v(" "),n("th",[t._v("说明")])])]),t._v(" "),n("tbody",[n("tr",[n("td",[t._v("DATE")]),t._v(" "),n("td",[t._v("3字节")]),t._v(" "),n("td",[t._v("日期")])]),t._v(" "),n("tr",[n("td",[t._v("TIME")]),t._v(" "),n("td",[t._v("3字节")]),t._v(" "),n("td",[t._v("时间")])]),t._v(" "),n("tr",[n("td",[t._v("YEAR")]),t._v(" "),n("td",[t._v("1字节")]),t._v(" "),n("td",[t._v("年份")])]),t._v(" "),n("tr",[n("td",[t._v("DATETIME")]),t._v(" "),n("td",[t._v("8字节")]),t._v(" "),n("td",[t._v("日期时间")])]),t._v(" "),n("tr",[n("td",[t._v("TIMESTAMP")]),t._v(" "),n("td",[t._v("4字节")]),t._v(" "),n("td",[t._v("时间戳")])])])]),t._v(" "),n("hr"),t._v(" "),n("h3",{attrs:{id:"_2-3-修改表结构"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-修改表结构"}},[t._v("#")]),t._v(" 2.3 修改表结构")]),t._v(" "),n("h4",{attrs:{id:"_2-3-1-添加字段-add"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-1-添加字段-add"}},[t._v("#")]),t._v(" 2.3.1 添加字段 ADD")]),t._v(" "),n("div",{staticClass:"language-sql extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ALTER")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("TABLE")]),t._v(" 表名称\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ADD")]),t._v(" 列"),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" 数据类型 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("约束"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("COMMENT")]),t._v(" 注释"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ADD")]),t._v(" 列"),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" 数据类型 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("约束"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("COMMENT")]),t._v(" 注释"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ALTER")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("TABLE")]),t._v(" student\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ADD")]),t._v(" address "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("VARCHAR")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("200")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("NOT")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("NULL")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ADD")]),t._v(" home_tel "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("CHAR")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("11")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("NOT")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("NULL")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("hr"),t._v(" "),n("h4",{attrs:{id:"_2-3-2-修改已有字段-modify"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-2-修改已有字段-modify"}},[t._v("#")]),t._v(" 2.3.2 修改已有字段 MODIFY")]),t._v(" "),n("div",{staticClass:"language-sql extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ALTER")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("TABLE")]),t._v(" student\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("MODIFY")]),t._v(" home_tel "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("VARCHAR")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("NOT")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("NULL")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("hr"),t._v(" "),n("h4",{attrs:{id:"_2-3-3-修改字段名称-change"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-3-修改字段名称-change"}},[t._v("#")]),t._v(" 2.3.3 修改字段名称 CHANGE")]),t._v(" "),n("div",{staticClass:"language-sql extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ALTER")]),t._v(" TANLE 表名称\nCHANGE 列"),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" 新列明"),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" 数据类型 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("约束"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("COMMENT")]),t._v(" 注释"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\nCHANGE 列"),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" 新列明"),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" 数据类型 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("约束"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("COMMENT")]),t._v(" 注释"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("hr"),t._v(" "),n("h4",{attrs:{id:"_2-3-4-删除字段"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-4-删除字段"}},[t._v("#")]),t._v(" 2.3.4 删除字段")]),t._v(" "),n("div",{staticClass:"language-sql extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ALTER")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("TABLE")]),t._v(" 表名称\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DROP")]),t._v(" 列"),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DROP")]),t._v(" 列"),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("hr"),t._v(" "),n("h3",{attrs:{id:"_2-4-字段约束"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-字段约束"}},[t._v("#")]),t._v(" 2.4 字段约束")]),t._v(" "),n("h4",{attrs:{id:"_2-4-1-数据句的范式"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-1-数据句的范式"}},[t._v("#")]),t._v(" 2.4.1 数据句的范式")]),t._v(" "),n("p",[t._v("构造数据库必须准遵守一定的规则，这种规则就是范式；")]),t._v(" "),n("p",[t._v("目前关系数据库有6中范式，一般情况下，只满足第三范式即可。")]),t._v(" "),n("p",[t._v("第一范式：原子性。数据库的每一列都不能再分割的基本数据项")]),t._v(" "),n("p",[t._v("第二范式：唯一性。数据表的每条记录必须是唯一的。主键 实现区分")]),t._v(" "),n("p",[t._v("第三范式：关联型。每列斗鱼主键有之间关系，不存在传递依赖。")]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",[t._v("爸爸")]),t._v(" "),n("th",[t._v("儿子")]),t._v(" "),n("th",[t._v("女儿")]),t._v(" "),n("th",[t._v("女儿的玩具")]),t._v(" "),n("th",[t._v("女儿的衣服")])])]),t._v(" "),n("tbody",[n("tr",[n("td",[t._v("陈华")]),t._v(" "),n("td",[t._v("陈浩")]),t._v(" "),n("td",[t._v("陈婷婷")]),t._v(" "),n("td",[t._v("海绵宝宝")]),t._v(" "),n("td",[t._v("校服")])])])]),t._v(" "),n("p",[t._v("儿子和女儿 字段 依赖与爸爸字段，而女儿的玩具、衣服不依赖爸爸。所以这个表设计不符合第三范式")]),t._v(" "),n("p",[t._v("数据表字段关联松散，会影响检索速度")]),t._v(" "),n("p",[t._v("应该是：")]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",[t._v("爸爸")]),t._v(" "),n("th",[t._v("儿子")]),t._v(" "),n("th",[t._v("女儿")])])]),t._v(" "),n("tbody",[n("tr",[n("td",[t._v("陈华")]),t._v(" "),n("td",[t._v("陈浩")]),t._v(" "),n("td",[t._v("陈婷婷")])])])]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",[t._v("女儿")]),t._v(" "),n("th",[t._v("女儿的玩具")]),t._v(" "),n("th",[t._v("女儿的衣服")])])]),t._v(" "),n("tbody",[n("tr",[n("td",[t._v("陈婷婷")]),t._v(" "),n("td",[t._v("海绵宝宝")]),t._v(" "),n("td",[t._v("校服")])])])]),t._v(" "),n("hr"),t._v(" "),n("blockquote",[n("p",[t._v("MySQL中的字段约束公有四种：")])]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",[t._v("约束名称")]),t._v(" "),n("th",[t._v("关键字")]),t._v(" "),n("th",[t._v("描述")])])]),t._v(" "),n("tbody",[n("tr",[n("td",[t._v("主键约束")]),t._v(" "),n("td",[t._v("PRIMARY KEY")]),t._v(" "),n("td",[t._v("字段值唯一，且不能为NULL")])]),t._v(" "),n("tr",[n("td",[t._v("非空约束")]),t._v(" "),n("td",[t._v("NOT NULL")]),t._v(" "),n("td",[t._v("字段值不能为NULL")])]),t._v(" "),n("tr",[n("td",[t._v("唯一约束")]),t._v(" "),n("td",[t._v("UNIQUE")]),t._v(" "),n("td",[t._v("字段值唯一，且可以为NULL")])]),t._v(" "),n("tr",[n("td",[t._v("外键约束")]),t._v(" "),n("td",[t._v("FOREIGEN KEY")]),t._v(" "),n("td",[t._v("保持关联数据的逻辑性")])])])]),t._v(" "),n("h4",{attrs:{id:"_2-4-2-主键约束"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-2-主键约束"}},[t._v("#")]),t._v(" 2.4.2 主键约束")]),t._v(" "),n("ol",[n("li",[t._v("主键约束 要求字段的值 在全表必须唯一，且不能为NULL值。")]),t._v(" "),n("li",[t._v("建议主键一定使用数字类型，因为数字的检索速度快。数字值的主键，还可以设置自动增长")])]),t._v(" "),n("div",{staticClass:"language-sql extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("CREATE")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("TABLE")]),t._v(" t_teacher"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n\tid "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("INT")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("PRIMARY")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("KEY")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("AUTO_INCREMENT")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("ol",{attrs:{start:"3"}},[n("li",[t._v("外键约束不推荐使用")])]),t._v(" "),n("hr"),t._v(" "),n("h4",{attrs:{id:"_2-4-3-外键约束"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-3-外键约束"}},[t._v("#")]),t._v(" 2.4.3 外键约束")]),t._v(" "),n("p",[n("img",{attrs:{src:a(323),alt:""}}),t._v("\n外键约束的定义卸载子表上")]),t._v(" "),n("div",{staticClass:"language-sql extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("CREATE")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("TABLE")]),t._v(" t_dept"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n\tdeptno "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("INT")]),t._v(" UNSIGEND "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("PRIMARY")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("KEY")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\tdname "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("VARCHAR")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("NOT")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("NULL")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("UNIQUE")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\ttel "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("CHAR")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("UNIQUE")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("CREATE")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("TABLE")]),t._v(" t_emp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n\tempno "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("INT")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("UNSIGNED")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("PRIMARY")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("KEY")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\tename "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("VARCHAR")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("NOT")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("NULL")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\tsex "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ENUM")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"男"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"女"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("NOT")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("NULL")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\tdeptno "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("INT")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("UNSIGNED")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\thiredate "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DATE")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("NOT")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("NULL")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("FOREIGN")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("KEY")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("deptno"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("REFERENCES")]),t._v(" t_dept"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("deptno"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("p",[t._v("有外键约束的表，要把关联子表的所有记录都删除了，父表才可以删除。所以会有一个闭环问题。")]),t._v(" "),n("p",[t._v("多个表外键约束后，会很容易形成闭环，无法删除。")]),t._v(" "),n("hr"),t._v(" "),n("h3",{attrs:{id:"_2-3-索引运行机制和使用原则"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-索引运行机制和使用原则"}},[t._v("#")]),t._v(" 2.3 索引运行机制和使用原则")]),t._v(" "),n("p",[t._v("一旦数据排序后，查找的速度会翻倍。因为有二叉树的二分查找。")]),t._v(" "),n("blockquote",[n("p",[t._v("索引应用场景\n数量量很大，而且经常被查询的数据表可以设置经常杯检索的字段作为索引。")])]),t._v(" "),n("p",[t._v("对于少量数据的表，可不用设置索引。因为设置索引，数据表还有维护额外的二叉树，有计算开销。")]),t._v(" "),n("p",[t._v("数据量多，但写入操作比查询多，也不适合设置索引。")]),t._v(" "),n("p",[t._v("不要在大字段上创建索引。如字符长度超过50的字符串不适合设置索引。")]),t._v(" "),n("blockquote",[n("p",[t._v("数据表不存在时，创建索引")])]),t._v(" "),n("div",{staticClass:"language-sql extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("CREATE")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("TABLE")]),t._v(" 表名称"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("INDEX")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("索引名称"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("字段"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("   "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#不写 索引名称的话，默认索引名称即原字段名称")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("hr"),t._v(" "),n("blockquote",[n("p",[t._v("数据表已有，添加/删除索引")])]),t._v(" "),n("div",{staticClass:"language-sql extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 方式一：")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("CREATE")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("INDEX")]),t._v(" 索引名称 "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ON")]),t._v(" 表明"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("字段"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 方式二：")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ALTER")]),t._v(" TABEL 表名称 "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ADD")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("INDEX")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("索引名"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("字段"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 查看已有索引")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SHOW")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("INDEX")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("FROM")]),t._v(" 表名"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 删除索引")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DROP")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("INDEX")]),t._v(" 索引名称 "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ON")]),t._v(" 表名"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("div",{staticClass:"language-sql extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("CREATE")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("TABLE")]),t._v(" t_message"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n\tid "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("INT")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("UNSIGNED")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("PRIMARY")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("KEY")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\tcontent "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("VARCHAR")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("200")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("NOT")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("NULL")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("type")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ENUM")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"公告"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"通报"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"个人通知"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("NOT")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("NULL")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\tcreate_time "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("TIMESTAMP")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("NOT")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("NULL")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("INDEX")]),t._v(" idx_type"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("type")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SHOW")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("INDEX")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("FROM")]),t._v(" t_message"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ALTER")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("TABLE")]),t._v(" t_message "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ADD")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("INDEX")]),t._v(" idx_type"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("type")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DROP")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("INDEX")]),t._v(" idx_type "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ON")]),t._v(" t_message"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("hr")])}),[],!1,null,null,null);s.default=e.exports}}]);