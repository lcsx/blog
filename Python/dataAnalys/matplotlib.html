<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>matplotlib | 欢迎回来 ！</title>
    <meta name="description" content="lcsx">
    <meta name="generator" content="VuePress 1.4.0">
    
    
    <link rel="preload" href="/blog/assets/css/0.styles.ee874cfe.css" as="style"><link rel="preload" href="/blog/assets/js/app.7a4660d2.js" as="script"><link rel="preload" href="/blog/assets/js/2.85e08d05.js" as="script"><link rel="preload" href="/blog/assets/js/17.49bf184a.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.573da17f.js"><link rel="prefetch" href="/blog/assets/js/11.5a02348c.js"><link rel="prefetch" href="/blog/assets/js/12.d8c9c1bd.js"><link rel="prefetch" href="/blog/assets/js/13.e09bb963.js"><link rel="prefetch" href="/blog/assets/js/14.d23ca837.js"><link rel="prefetch" href="/blog/assets/js/15.c4683e2a.js"><link rel="prefetch" href="/blog/assets/js/16.c660c97d.js"><link rel="prefetch" href="/blog/assets/js/18.9be995ca.js"><link rel="prefetch" href="/blog/assets/js/19.df144b24.js"><link rel="prefetch" href="/blog/assets/js/20.5aad5a93.js"><link rel="prefetch" href="/blog/assets/js/21.262a03c1.js"><link rel="prefetch" href="/blog/assets/js/22.7fed5ac6.js"><link rel="prefetch" href="/blog/assets/js/23.6aa0be70.js"><link rel="prefetch" href="/blog/assets/js/24.09d96859.js"><link rel="prefetch" href="/blog/assets/js/25.418504a4.js"><link rel="prefetch" href="/blog/assets/js/26.f0584d72.js"><link rel="prefetch" href="/blog/assets/js/27.cd44913e.js"><link rel="prefetch" href="/blog/assets/js/28.4f5c209f.js"><link rel="prefetch" href="/blog/assets/js/29.2dcd5c40.js"><link rel="prefetch" href="/blog/assets/js/3.11e700f0.js"><link rel="prefetch" href="/blog/assets/js/30.d2e1f594.js"><link rel="prefetch" href="/blog/assets/js/31.7b1f9108.js"><link rel="prefetch" href="/blog/assets/js/32.f4856997.js"><link rel="prefetch" href="/blog/assets/js/33.f6007bb0.js"><link rel="prefetch" href="/blog/assets/js/34.974aeb16.js"><link rel="prefetch" href="/blog/assets/js/35.af78c18d.js"><link rel="prefetch" href="/blog/assets/js/36.0a0639ee.js"><link rel="prefetch" href="/blog/assets/js/37.3a26ab2f.js"><link rel="prefetch" href="/blog/assets/js/38.ba809f55.js"><link rel="prefetch" href="/blog/assets/js/39.fb48ae1b.js"><link rel="prefetch" href="/blog/assets/js/4.31720545.js"><link rel="prefetch" href="/blog/assets/js/40.639ac403.js"><link rel="prefetch" href="/blog/assets/js/41.182c195e.js"><link rel="prefetch" href="/blog/assets/js/42.bd60b723.js"><link rel="prefetch" href="/blog/assets/js/43.7f4ee63e.js"><link rel="prefetch" href="/blog/assets/js/44.1345cf6d.js"><link rel="prefetch" href="/blog/assets/js/45.f0b98685.js"><link rel="prefetch" href="/blog/assets/js/46.97e7267e.js"><link rel="prefetch" href="/blog/assets/js/47.2c6a6d63.js"><link rel="prefetch" href="/blog/assets/js/48.faebaa80.js"><link rel="prefetch" href="/blog/assets/js/49.49af56c0.js"><link rel="prefetch" href="/blog/assets/js/5.232758e0.js"><link rel="prefetch" href="/blog/assets/js/50.b6235237.js"><link rel="prefetch" href="/blog/assets/js/51.8bb71e61.js"><link rel="prefetch" href="/blog/assets/js/52.a8d8e7ae.js"><link rel="prefetch" href="/blog/assets/js/53.259ab2d4.js"><link rel="prefetch" href="/blog/assets/js/54.a1620682.js"><link rel="prefetch" href="/blog/assets/js/55.15b38884.js"><link rel="prefetch" href="/blog/assets/js/56.408630af.js"><link rel="prefetch" href="/blog/assets/js/57.b6ac7546.js"><link rel="prefetch" href="/blog/assets/js/58.82664ed4.js"><link rel="prefetch" href="/blog/assets/js/59.339098b4.js"><link rel="prefetch" href="/blog/assets/js/6.0bf13852.js"><link rel="prefetch" href="/blog/assets/js/60.56bec4a5.js"><link rel="prefetch" href="/blog/assets/js/61.1d5e0a93.js"><link rel="prefetch" href="/blog/assets/js/62.caa7d838.js"><link rel="prefetch" href="/blog/assets/js/63.b2935415.js"><link rel="prefetch" href="/blog/assets/js/64.27d92569.js"><link rel="prefetch" href="/blog/assets/js/65.f84cda40.js"><link rel="prefetch" href="/blog/assets/js/66.1585871d.js"><link rel="prefetch" href="/blog/assets/js/67.dd596334.js"><link rel="prefetch" href="/blog/assets/js/68.7f108fcc.js"><link rel="prefetch" href="/blog/assets/js/69.e67a606a.js"><link rel="prefetch" href="/blog/assets/js/7.1e456cb7.js"><link rel="prefetch" href="/blog/assets/js/70.7ca5af58.js"><link rel="prefetch" href="/blog/assets/js/71.9ec68011.js"><link rel="prefetch" href="/blog/assets/js/72.50a3a3b0.js"><link rel="prefetch" href="/blog/assets/js/73.e2564842.js"><link rel="prefetch" href="/blog/assets/js/74.b0c6fc38.js"><link rel="prefetch" href="/blog/assets/js/8.3c5dcc01.js"><link rel="prefetch" href="/blog/assets/js/9.33061631.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.ee874cfe.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><img src="https://vuejs.org/images/logo.png" alt="欢迎回来 ！" class="logo"> <span class="site-name can-hide">欢迎回来 ！</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/blog/git/" class="nav-link">
  git
</a></div><div class="nav-item"><a href="/blog/DMP/" class="nav-link">
  DMP
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="JavaScript" class="dropdown-title"><span class="title">JavaScript</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/JavaScript/resfulApi/" class="nav-link">
  模拟数据
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java" class="dropdown-title"><span class="title">Java</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/java/tingshu/" class="nav-link">
  小慕听书
</a></li><li class="dropdown-item"><!----> <a href="/blog/java/java_study/env/" class="nav-link">
  Java Study
</a></li><li class="dropdown-item"><!----> <a href="/blog/java/xml/" class="nav-link">
  XML
</a></li><li class="dropdown-item"><!----> <a href="/blog/java/JDBC/" class="nav-link">
  JDBC
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Python" class="dropdown-title"><span class="title">Python</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/Python/python_study/" class="nav-link">
  python基础
</a></li><li class="dropdown-item"><!----> <a href="/blog/Python/basicKnowledge/" class="nav-link">
  一些基础
</a></li><li class="dropdown-item"><!----> <a href="/blog/Python/dataAnalys/" class="nav-link router-link-active">
  数据分析
</a></li><li class="dropdown-item"><!----> <a href="/blog/Python/zhihu/basis/" class="nav-link">
  网络资料
</a></li><li class="dropdown-item"><!----> <a href="/blog/Python/code/" class="nav-link">
  code
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="MySQL" class="dropdown-title"><span class="title">MySQL</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/mysql/mysql_study/" class="nav-link">
  MySQL基础
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/blog/git/" class="nav-link">
  git
</a></div><div class="nav-item"><a href="/blog/DMP/" class="nav-link">
  DMP
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="JavaScript" class="dropdown-title"><span class="title">JavaScript</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/JavaScript/resfulApi/" class="nav-link">
  模拟数据
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java" class="dropdown-title"><span class="title">Java</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/java/tingshu/" class="nav-link">
  小慕听书
</a></li><li class="dropdown-item"><!----> <a href="/blog/java/java_study/env/" class="nav-link">
  Java Study
</a></li><li class="dropdown-item"><!----> <a href="/blog/java/xml/" class="nav-link">
  XML
</a></li><li class="dropdown-item"><!----> <a href="/blog/java/JDBC/" class="nav-link">
  JDBC
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Python" class="dropdown-title"><span class="title">Python</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/Python/python_study/" class="nav-link">
  python基础
</a></li><li class="dropdown-item"><!----> <a href="/blog/Python/basicKnowledge/" class="nav-link">
  一些基础
</a></li><li class="dropdown-item"><!----> <a href="/blog/Python/dataAnalys/" class="nav-link router-link-active">
  数据分析
</a></li><li class="dropdown-item"><!----> <a href="/blog/Python/zhihu/basis/" class="nav-link">
  网络资料
</a></li><li class="dropdown-item"><!----> <a href="/blog/Python/code/" class="nav-link">
  code
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="MySQL" class="dropdown-title"><span class="title">MySQL</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/mysql/mysql_study/" class="nav-link">
  MySQL基础
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/blog/Python/dataAnalys/BasisOfPython.html" class="sidebar-link">python基础</a></li><li><a href="/blog/Python/dataAnalys/csv.html" class="sidebar-link">CSV</a></li><li><a href="/blog/Python/dataAnalys/Excel.html" class="sidebar-link">Excel</a></li><li><a href="/blog/Python/dataAnalys/mix.html" class="sidebar-link">多个不同文件，单个文件多个表</a></li><li><a href="/blog/Python/dataAnalys/matplotlib.html" class="active sidebar-link">matplotlib</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/Python/dataAnalys/matplotlib.html#散点图" class="sidebar-link">散点图</a></li><li class="sidebar-sub-header"><a href="/blog/Python/dataAnalys/matplotlib.html#柱状图" class="sidebar-link">柱状图</a></li><li class="sidebar-sub-header"><a href="/blog/Python/dataAnalys/matplotlib.html#subplot-多合一显示" class="sidebar-link">Subplot 多合一显示</a></li><li class="sidebar-sub-header"><a href="/blog/Python/dataAnalys/matplotlib.html#直方图" class="sidebar-link">直方图</a></li><li class="sidebar-sub-header"><a href="/blog/Python/dataAnalys/matplotlib.html#与直方图易混淆的柱状图频率" class="sidebar-link">与直方图易混淆的柱状图频率</a></li><li class="sidebar-sub-header"><a href="/blog/Python/dataAnalys/matplotlib.html#折线图" class="sidebar-link">折线图</a></li><li class="sidebar-sub-header"><a href="/blog/Python/dataAnalys/matplotlib.html#箱线图" class="sidebar-link">箱线图</a></li></ul></li><li><a href="/blog/Python/dataAnalys/xiangxiantu.html" class="sidebar-link">箱线图</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="matplotlib"><a href="#matplotlib" class="header-anchor">#</a> matplotlib</h1> <ol><li>导入模块：import matplotlib.pyplot as plt</li> <li>定义图像窗口：plt.figure()</li> <li>画图：plt.plot(x, y)</li> <li>定义坐标轴范围：plt.xlim()/plt.ylim()</li> <li>定义坐标轴名称：plt.xlabel()/plt.ylabel()</li> <li>定义坐标轴刻度及名称：plt.xticks()/plt.yticks()</li> <li>设置图像边框颜色：ax = plt.gca() ax.spines[].set_color()</li> <li>调整刻度位置：ax.xaxis.set_ticks_position()/ax.yaxis.set_ticks_position()</li> <li>调整边框（坐标轴）位置：ax.spines[].set_position()</li></ol> <p><strong>图类型：</strong></p> <ol><li>散点图：plt.scatter()</li> <li>柱状图：plt.bar()</li> <li>等高线图：plt.contourf()</li> <li>在等高线图中增加label：plt.clabel()</li> <li>矩阵画图：plt.imshow()</li> <li>在随机矩阵图中增加colorbar：plt.colorbar()</li></ol> <p></p><div class="table-of-contents"><ul><li><a href="#matplotlib">matplotlib</a><ul><li><a href="#散点图">散点图</a></li><li><a href="#柱状图">柱状图</a></li><li><a href="#subplot-多合一显示">Subplot 多合一显示</a></li><li><a href="#直方图">直方图</a><ul><li><a href="#增加拟合曲线">增加拟合曲线</a></li></ul></li><li><a href="#与直方图易混淆的柱状图频率">与直方图易混淆的柱状图频率</a></li><li><a href="#折线图">折线图</a></li><li><a href="#箱线图">箱线图</a></li></ul></li></ul></div><p></p> <h2 id="散点图"><a href="#散点图" class="header-anchor">#</a> 散点图</h2> <p>散点图表示两个数值变量之间的相对关系，这两个变量分别位于两个数轴上。例如，身高
与体重，或者供给与需求。散点图有助于识别出变量之间是否具有正相关（图中的点集中
于某个具体参数）或负相关（图中的点像云一样发散）。你还可以画一条回归曲线，也就
是使方差最小的曲线，通过图中的点基于一个变量的值预测另一个变量的值。</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
<span class="token comment"># 散点图</span>
<span class="token comment"># 生成1024个呈标准正态分布的二维数据组 (平均数是0，方差为1) 作为一个数据集，并图像化这个数据集。每一个点的颜色值用T来表示：</span>

n <span class="token operator">=</span> <span class="token number">1024</span>    <span class="token comment"># data size</span>
X <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>normal<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> n<span class="token punctuation">)</span> <span class="token comment"># 每一个点的X值</span>
Y <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>normal<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> n<span class="token punctuation">)</span> <span class="token comment"># 每一个点的Y值</span>
T <span class="token operator">=</span> np<span class="token punctuation">.</span>arctan2<span class="token punctuation">(</span>Y<span class="token punctuation">,</span>X<span class="token punctuation">)</span> <span class="token comment"># for color value</span>

plt<span class="token punctuation">.</span>scatter<span class="token punctuation">(</span>X<span class="token punctuation">,</span> Y<span class="token punctuation">,</span> s<span class="token operator">=</span><span class="token number">75</span><span class="token punctuation">,</span> c<span class="token operator">=</span>T<span class="token punctuation">,</span> alpha<span class="token operator">=</span><span class="token number">.5</span><span class="token punctuation">)</span>

<span class="token comment"># plt.xlim(-1.5, 1.5)</span>
plt<span class="token punctuation">.</span>xticks<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># ignore xticks</span>
<span class="token comment"># plt.ylim(-1.5, 1.5)</span>
plt<span class="token punctuation">.</span>yticks<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># ignore yticks</span>


new_ticks <span class="token operator">=</span> np<span class="token punctuation">.</span>linspace<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>xticks<span class="token punctuation">(</span>new_ticks<span class="token punctuation">)</span>

plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p><strong>散点图+拟合</strong></p> <div class="language-python extra-class"><pre class="language-python"><code> <span class="token comment">#!/usr/bin/env python3</span>
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
<span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt

plt<span class="token punctuation">.</span>style<span class="token punctuation">.</span>use<span class="token punctuation">(</span><span class="token string">'ggplot'</span><span class="token punctuation">)</span>   <span class="token comment"># 这个会有默认的背景颜色，网格？</span>

x <span class="token operator">=</span> np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span>start<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">.</span><span class="token punctuation">,</span> stop<span class="token operator">=</span><span class="token number">15</span><span class="token punctuation">.</span><span class="token punctuation">,</span> step<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">.</span><span class="token punctuation">)</span>
<span class="token comment"># print(x) # [ 1.  2.  3.  4.  5.  6.  7.  8.  9. 10. 11. 12. 13. 14.]</span>

y_linear <span class="token operator">=</span> x <span class="token operator">+</span> <span class="token number">5</span><span class="token punctuation">.</span> <span class="token operator">*</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randn<span class="token punctuation">(</span><span class="token number">14</span><span class="token punctuation">)</span>
y_quadratic <span class="token operator">=</span> x<span class="token operator">**</span><span class="token number">2</span> <span class="token operator">+</span> <span class="token number">10</span><span class="token punctuation">.</span> <span class="token operator">*</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randn<span class="token punctuation">(</span><span class="token number">14</span><span class="token punctuation">)</span>

fn_linear <span class="token operator">=</span> np<span class="token punctuation">.</span>poly1d<span class="token punctuation">(</span>np<span class="token punctuation">.</span>polyfit<span class="token punctuation">(</span>x<span class="token punctuation">,</span> y_linear<span class="token punctuation">,</span> deg<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
fn_quadratic <span class="token operator">=</span> np<span class="token punctuation">.</span>poly1d<span class="token punctuation">(</span>np<span class="token punctuation">.</span>polyfit<span class="token punctuation">(</span>x<span class="token punctuation">,</span> y_quadratic<span class="token punctuation">,</span> deg<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment"># 使用 numpy 的 polyfit 函数通过两组数据点 (x, y_linear) 和 (x, y_quadratic) 拟合出一条直线和一条二次曲线，</span>
<span class="token comment"># 再使用 poly1d 函数根据直线和二次曲线的参数生成一个线形方程和二次方程。</span>

fig <span class="token operator">=</span> plt<span class="token punctuation">.</span>figure<span class="token punctuation">(</span><span class="token punctuation">)</span>
ax1 <span class="token operator">=</span> fig<span class="token punctuation">.</span>add_subplot<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span>
ax1<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>x<span class="token punctuation">,</span> y_linear<span class="token punctuation">,</span> <span class="token string">'bo'</span><span class="token punctuation">,</span> x<span class="token punctuation">,</span> y_quadratic<span class="token punctuation">,</span> <span class="token string">'go'</span><span class="token punctuation">,</span> \
x<span class="token punctuation">,</span> fn_linear<span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'b-'</span><span class="token punctuation">,</span> x<span class="token punctuation">,</span> fn_quadratic<span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'g-'</span><span class="token punctuation">,</span> linewidth<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">.</span><span class="token punctuation">)</span>
<span class="token comment"># 'bo' 表示 (x, y_linear）点是蓝色圆圈，</span>
<span class="token comment"># 'go' 表示 (x, y_quadratic) 点是绿色圆圈。同样，'b-' 表示 (x, y_linear) 点之间的线是</span>
<span class="token comment"># 一条蓝色实线，'g-' 表示 (x, y_quadratic) 点之间的线是一条绿色实线。通过 linewidth可以设置线的宽度</span>


ax1<span class="token punctuation">.</span>xaxis<span class="token punctuation">.</span>set_ticks_position<span class="token punctuation">(</span><span class="token string">'bottom'</span><span class="token punctuation">)</span>
ax1<span class="token punctuation">.</span>yaxis<span class="token punctuation">.</span>set_ticks_position<span class="token punctuation">(</span><span class="token string">'left'</span><span class="token punctuation">)</span>
ax1<span class="token punctuation">.</span>set_title<span class="token punctuation">(</span><span class="token string">'Scatter Plots Regression Lines'</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>xlabel<span class="token punctuation">(</span><span class="token string">'x'</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>ylabel<span class="token punctuation">(</span><span class="token string">'f(x)'</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>xlim<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token builtin">min</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">.</span><span class="token punctuation">,</span> <span class="token builtin">max</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>ylim<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token builtin">min</span><span class="token punctuation">(</span>y_quadratic<span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">10</span><span class="token punctuation">.</span><span class="token punctuation">,</span> <span class="token builtin">max</span><span class="token punctuation">(</span>y_quadratic<span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">10</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>savefig<span class="token punctuation">(</span><span class="token string">'scatter_plot.png'</span><span class="token punctuation">,</span> dpi<span class="token operator">=</span><span class="token number">400</span><span class="token punctuation">,</span> bbox_inches<span class="token operator">=</span><span class="token string">'tight'</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="柱状图"><a href="#柱状图" class="header-anchor">#</a> 柱状图</h2> <p>条形图表示一组分类数值，比如计数值。</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># 条形图</span>
<span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt
plt<span class="token punctuation">.</span>style<span class="token punctuation">.</span>use<span class="token punctuation">(</span><span class="token string">'ggplot'</span><span class="token punctuation">)</span>
customers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'ABC'</span><span class="token punctuation">,</span> <span class="token string">'DEF'</span><span class="token punctuation">,</span> <span class="token string">'GHI'</span><span class="token punctuation">,</span> <span class="token string">'JKL'</span><span class="token punctuation">,</span> <span class="token string">'MNO'</span><span class="token punctuation">]</span>
customers_index <span class="token operator">=</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>customers<span class="token punctuation">)</span><span class="token punctuation">)</span>
sale_amounts <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">127</span><span class="token punctuation">,</span> <span class="token number">90</span><span class="token punctuation">,</span> <span class="token number">201</span><span class="token punctuation">,</span> <span class="token number">111</span><span class="token punctuation">,</span> <span class="token number">232</span><span class="token punctuation">]</span>
fig <span class="token operator">=</span> plt<span class="token punctuation">.</span>figure<span class="token punctuation">(</span><span class="token punctuation">)</span>
ax1 <span class="token operator">=</span> fig<span class="token punctuation">.</span>add_subplot<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span>
ax1<span class="token punctuation">.</span>bar<span class="token punctuation">(</span>customers_index<span class="token punctuation">,</span> sale_amounts<span class="token punctuation">,</span> align<span class="token operator">=</span><span class="token string">'center'</span><span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">'darkblue'</span><span class="token punctuation">)</span>
ax1<span class="token punctuation">.</span>xaxis<span class="token punctuation">.</span>set_ticks_position<span class="token punctuation">(</span><span class="token string">'bottom'</span><span class="token punctuation">)</span>
ax1<span class="token punctuation">.</span>yaxis<span class="token punctuation">.</span>set_ticks_position<span class="token punctuation">(</span><span class="token string">'left'</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>xticks<span class="token punctuation">(</span>customers_index<span class="token punctuation">,</span> customers<span class="token punctuation">,</span> rotation<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> fontsize<span class="token operator">=</span><span class="token string">'small'</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>xlabel<span class="token punctuation">(</span><span class="token string">'Customer Name'</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>ylabel<span class="token punctuation">(</span><span class="token string">'Sale Amount'</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>title<span class="token punctuation">(</span><span class="token string">'Sale Amount per Customer'</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>savefig<span class="token punctuation">(</span><span class="token string">'bar_plot.png'</span><span class="token punctuation">,</span> dpi<span class="token operator">=</span><span class="token number">400</span><span class="token punctuation">,</span> bbox_inches<span class="token operator">=</span><span class="token string">'tight'</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np

n <span class="token operator">=</span> <span class="token number">12</span>
X <span class="token operator">=</span> np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span>n<span class="token punctuation">)</span>
Y1 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">-</span> X <span class="token operator">/</span> <span class="token builtin">float</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">*</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>uniform<span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">,</span> n<span class="token punctuation">)</span>
Y2 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">-</span> X <span class="token operator">/</span> <span class="token builtin">float</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">*</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>uniform<span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">,</span> n<span class="token punctuation">)</span>

plt<span class="token punctuation">.</span>bar<span class="token punctuation">(</span>X<span class="token punctuation">,</span> <span class="token operator">+</span>Y1<span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>bar<span class="token punctuation">(</span>X<span class="token punctuation">,</span> <span class="token operator">-</span>Y2<span class="token punctuation">)</span>

plt<span class="token punctuation">.</span>xlim<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">.5</span><span class="token punctuation">,</span> n<span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>xticks<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>ylim<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1.25</span><span class="token punctuation">,</span> <span class="token number">1.25</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>yticks<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

plt<span class="token punctuation">.</span>bar<span class="token punctuation">(</span>X<span class="token punctuation">,</span> <span class="token operator">+</span>Y1<span class="token punctuation">,</span> facecolor<span class="token operator">=</span><span class="token string">'#FFCCCC'</span><span class="token punctuation">,</span> edgecolor<span class="token operator">=</span><span class="token string">'white'</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>bar<span class="token punctuation">(</span>X<span class="token punctuation">,</span> <span class="token operator">-</span>Y2<span class="token punctuation">,</span> facecolor<span class="token operator">=</span><span class="token string">'#6699CC'</span><span class="token punctuation">,</span> edgecolor<span class="token operator">=</span><span class="token string">'white'</span><span class="token punctuation">)</span>

<span class="token keyword">for</span> x<span class="token punctuation">,</span> y <span class="token keyword">in</span> <span class="token builtin">zip</span><span class="token punctuation">(</span>X<span class="token punctuation">,</span> Y1<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># ha: horizontal alignment</span>
    <span class="token comment"># va: vertical alignment</span>
    plt<span class="token punctuation">.</span>text<span class="token punctuation">(</span>x<span class="token punctuation">,</span> y <span class="token punctuation">,</span> <span class="token string">'%.2f'</span> <span class="token operator">%</span> y<span class="token punctuation">,</span> ha<span class="token operator">=</span><span class="token string">'center'</span><span class="token punctuation">,</span> va<span class="token operator">=</span><span class="token string">'bottom'</span><span class="token punctuation">)</span>

<span class="token keyword">for</span> x<span class="token punctuation">,</span> y <span class="token keyword">in</span> <span class="token builtin">zip</span><span class="token punctuation">(</span>X<span class="token punctuation">,</span> Y2<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># ha: horizontal alignment</span>
    <span class="token comment"># va: vertical alignment</span>
    plt<span class="token punctuation">.</span>text<span class="token punctuation">(</span>x<span class="token punctuation">,</span> <span class="token operator">-</span>y <span class="token punctuation">,</span> <span class="token string">'%.2f'</span> <span class="token operator">%</span> y<span class="token punctuation">,</span> ha<span class="token operator">=</span><span class="token string">'center'</span><span class="token punctuation">,</span> va<span class="token operator">=</span><span class="token string">'top'</span><span class="token punctuation">)</span>


plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="subplot-多合一显示"><a href="#subplot-多合一显示" class="header-anchor">#</a> Subplot 多合一显示</h2> <p>使用plt.figure创建一个图像窗口.使用plt.subplot来创建小图。plt.subplot(2,2,1)表示将整个图像窗口分为2行2列, 当前位置为1. 使用plt.plot([0,1],[0,1])在第1个位置创建一个小图。plt.subplot(2,2,2)表示将整个图像窗口分为2行2列, 当前位置为2。使用plt.plot([0,1],[0,2])在第2个位置创建一个小图。plt.subplot(2,2,3)表示将整个图像窗口分为2行2列,当前位置为3。 plt.subplot(2,2,3)可以简写成plt.subplot(223), matplotlib同样可以识别。</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt
plt<span class="token punctuation">.</span>figure<span class="token punctuation">(</span><span class="token punctuation">)</span>

plt<span class="token punctuation">.</span>subplot<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

plt<span class="token punctuation">.</span>subplot<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

plt<span class="token punctuation">.</span>subplot<span class="token punctuation">(</span><span class="token number">223</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

plt<span class="token punctuation">.</span>subplot<span class="token punctuation">(</span><span class="token number">224</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

</code></pre></div><h2 id="直方图"><a href="#直方图" class="header-anchor">#</a> 直方图</h2> <p>直方图用来表示数值分布。常用的直方图包括频率分布、频率密度分布、概率分布和概率
密度分布。通俗地说就是哪一块数据所占比例或者出现次数较高，哪一块出现概率低。</p> <p><img src="/blog/assets/img/mp.70ec0326.png" alt=""> <img src="/blog/assets/img/mp1.58929aba.png" alt=""></p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token comment">#!/usr/bin/env python3</span>
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
<span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt
plt<span class="token punctuation">.</span>style<span class="token punctuation">.</span>use<span class="token punctuation">(</span><span class="token string">'ggplot'</span><span class="token punctuation">)</span>
mu1<span class="token punctuation">,</span> mu2<span class="token punctuation">,</span> sigma <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">130</span><span class="token punctuation">,</span> <span class="token number">15</span>
<span class="token comment"># 生成连个正太分布的list</span>
x1 <span class="token operator">=</span> mu1 <span class="token operator">+</span> sigma<span class="token operator">*</span>np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randn<span class="token punctuation">(</span><span class="token number">10000</span><span class="token punctuation">)</span>
x2 <span class="token operator">=</span> mu2 <span class="token operator">+</span> sigma<span class="token operator">*</span>np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randn<span class="token punctuation">(</span><span class="token number">10000</span><span class="token punctuation">)</span>
fig <span class="token operator">=</span> plt<span class="token punctuation">.</span>figure<span class="token punctuation">(</span><span class="token punctuation">)</span>
ax1 <span class="token operator">=</span> fig<span class="token punctuation">.</span>add_subplot<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span>
n<span class="token punctuation">,</span> bins<span class="token punctuation">,</span> patches <span class="token operator">=</span> ax1<span class="token punctuation">.</span>hist<span class="token punctuation">(</span>x1<span class="token punctuation">,</span> bins<span class="token operator">=</span><span class="token number">50</span><span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">'darkgreen'</span><span class="token punctuation">)</span>      <span class="token comment"># 平均的50段</span>
n<span class="token punctuation">,</span> bins<span class="token punctuation">,</span> patches <span class="token operator">=</span> ax1<span class="token punctuation">.</span>hist<span class="token punctuation">(</span>x2<span class="token punctuation">,</span> bins<span class="token operator">=</span><span class="token number">50</span><span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">'orange'</span><span class="token punctuation">,</span> alpha<span class="token operator">=</span><span class="token number">0.5</span><span class="token punctuation">)</span>
ax1<span class="token punctuation">.</span>xaxis<span class="token punctuation">.</span>set_ticks_position<span class="token punctuation">(</span><span class="token string">'bottom'</span><span class="token punctuation">)</span>
ax1<span class="token punctuation">.</span>yaxis<span class="token punctuation">.</span>set_ticks_position<span class="token punctuation">(</span><span class="token string">'left'</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>xlabel<span class="token punctuation">(</span><span class="token string">'Bins'</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>ylabel<span class="token punctuation">(</span><span class="token string">'Number of Values in Bin'</span><span class="token punctuation">)</span>
fig<span class="token punctuation">.</span>suptitle<span class="token punctuation">(</span><span class="token string">'Histograms'</span><span class="token punctuation">,</span> fontsize<span class="token operator">=</span><span class="token number">14</span><span class="token punctuation">,</span> fontweight<span class="token operator">=</span><span class="token string">'bold'</span><span class="token punctuation">)</span>
ax1<span class="token punctuation">.</span>set_title<span class="token punctuation">(</span><span class="token string">'Two Frequency Distributions'</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>savefig<span class="token punctuation">(</span><span class="token string">'histogram.png'</span><span class="token punctuation">,</span> dpi<span class="token operator">=</span><span class="token number">400</span><span class="token punctuation">,</span> bbox_inches<span class="token operator">=</span><span class="token string">'tight'</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="增加拟合曲线"><a href="#增加拟合曲线" class="header-anchor">#</a> 增加拟合曲线</h3> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">import</span> matplotlib
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
<span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt

np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>seed<span class="token punctuation">(</span><span class="token number">19680801</span><span class="token punctuation">)</span>  <span class="token comment">#随机种子,一旦随机种子参数确定np.random.randn生成的结果也确定</span>

<span class="token comment"># 生成正态分布分布数据</span>
mu <span class="token operator">=</span> <span class="token number">100</span>     <span class="token comment"># 分布均值点</span>
sigma <span class="token operator">=</span> <span class="token number">15</span>   <span class="token comment"># 分布标准差</span>
x <span class="token operator">=</span> mu <span class="token operator">+</span> sigma <span class="token operator">*</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randn<span class="token punctuation">(</span><span class="token number">437</span><span class="token punctuation">)</span>   <span class="token comment">#np.random.randn标准正态分布随机值</span>

num_bins <span class="token operator">=</span> <span class="token number">50</span>   <span class="token comment"># histogram组数</span>

fig<span class="token punctuation">,</span> ax <span class="token operator">=</span> plt<span class="token punctuation">.</span>subplots<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># the histogram of the data</span>
<span class="token comment"># n 表示每个bin的值</span>
<span class="token comment"># bins,shape为n+1,bins的边界</span>
<span class="token comment"># patches histogram中每一个柱子</span>
<span class="token comment"># 生成的直方图面积和为1,即sum(n*(bins[1:]-bins[:-1]))==1</span>
n<span class="token punctuation">,</span> bins<span class="token punctuation">,</span> patches <span class="token operator">=</span> ax<span class="token punctuation">.</span>hist<span class="token punctuation">(</span>x<span class="token punctuation">,</span> num_bins<span class="token punctuation">,</span> density<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>

<span class="token comment"># 正态分布拟合曲线</span>
y <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">/</span> <span class="token punctuation">(</span>np<span class="token punctuation">.</span>sqrt<span class="token punctuation">(</span><span class="token number">2</span> <span class="token operator">*</span> np<span class="token punctuation">.</span>pi<span class="token punctuation">)</span> <span class="token operator">*</span> sigma<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">*</span>
     np<span class="token punctuation">.</span>exp<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">0.5</span> <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">/</span> sigma <span class="token operator">*</span> <span class="token punctuation">(</span>bins <span class="token operator">-</span> mu<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">**</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

ax<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>bins<span class="token punctuation">,</span> y<span class="token punctuation">,</span> <span class="token string">'--'</span><span class="token punctuation">)</span>  <span class="token comment"># 画曲线</span>
ax<span class="token punctuation">.</span>set_xlabel<span class="token punctuation">(</span><span class="token string">'Abscissa labels'</span><span class="token punctuation">)</span>  <span class="token comment">#横坐标label</span>
ax<span class="token punctuation">.</span>set_ylabel<span class="token punctuation">(</span><span class="token string">'Probability density'</span><span class="token punctuation">)</span>  <span class="token comment">#纵坐标label</span>
ax<span class="token punctuation">.</span>set_title<span class="token punctuation">(</span><span class="token string">r'Histogram of IQ: $\mu=100$, $\sigma=15$'</span><span class="token punctuation">)</span>  <span class="token comment">#设置标题</span>

fig<span class="token punctuation">.</span>set_facecolor<span class="token punctuation">(</span><span class="token string">'cyan'</span><span class="token punctuation">)</span>  <span class="token comment">#设置figure面板颜色(青色)</span>

plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="与直方图易混淆的柱状图频率"><a href="#与直方图易混淆的柱状图频率" class="header-anchor">#</a> 与直方图易混淆的柱状图频率</h2> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">import</span> xlrd

data <span class="token operator">=</span> xlrd<span class="token punctuation">.</span>open_workbook<span class="token punctuation">(</span><span class="token string">r&quot;C:\Users\46957\Desktop\data.xlsx&quot;</span><span class="token punctuation">)</span>  <span class="token comment">#打开文件</span>
sheet <span class="token operator">=</span> data<span class="token punctuation">.</span>sheet_by_index<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>   <span class="token comment">#获取第一个表</span>

<span class="token comment"># 一志愿所选择的老师</span>
student_selected_first_list <span class="token operator">=</span> sheet<span class="token punctuation">.</span>col_values<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token punctuation">]</span>

<span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np


df <span class="token operator">=</span> pd<span class="token punctuation">.</span>read_excel<span class="token punctuation">(</span><span class="token string">r&quot;C:\Users\46957\Desktop\data.xlsx&quot;</span><span class="token punctuation">)</span>

<span class="token keyword">import</span> seaborn <span class="token keyword">as</span> sns
<span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt

<span class="token keyword">import</span> matplotlib <span class="token keyword">as</span> mpl
mpl<span class="token punctuation">.</span>rcParams<span class="token punctuation">[</span><span class="token string">'font.sans-serif'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'KaiTi'</span><span class="token punctuation">]</span>
mpl<span class="token punctuation">.</span>rcParams<span class="token punctuation">[</span><span class="token string">'font.serif'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'KaiTi'</span><span class="token punctuation">]</span>

sns<span class="token punctuation">.</span>set_style<span class="token punctuation">(</span><span class="token string">&quot;darkgrid&quot;</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token string">&quot;font.sans-serif&quot;</span><span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token string">'KaiTi'</span><span class="token punctuation">,</span> <span class="token string">'Arial'</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">)</span>   <span class="token comment">#这是方便seaborn绘图得时候得字体设置</span>
<span class="token comment"># sns.set_style(style = &quot;darkgrid&quot;)</span>


<span class="token comment"># 柱状图 </span>

<span class="token comment">#设置title</span>
plt<span class="token punctuation">.</span>title<span class="token punctuation">(</span><span class="token string">&quot;二班一志愿选择情况&quot;</span><span class="token punctuation">)</span>

<span class="token comment">#设置y坐标label</span>
plt<span class="token punctuation">.</span>ylabel<span class="token punctuation">(</span><span class="token string">&quot;number&quot;</span><span class="token punctuation">)</span>

<span class="token comment">#设置x坐标label</span>
plt<span class="token punctuation">.</span>xlabel<span class="token punctuation">(</span><span class="token string">&quot;导师&quot;</span><span class="token punctuation">)</span>

say <span class="token operator">=</span> df<span class="token punctuation">[</span><span class="token string">&quot;第一志愿导师&quot;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>fillna<span class="token punctuation">(</span><span class="token string">&quot;未选择&quot;</span><span class="token punctuation">)</span>
cols <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span><span class="token builtin">set</span><span class="token punctuation">(</span>df<span class="token punctuation">[</span><span class="token string">&quot;第一志愿导师&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>say<span class="token punctuation">.</span>value_counts<span class="token punctuation">(</span>normalize <span class="token operator">=</span> <span class="token boolean">True</span><span class="token punctuation">)</span><span class="token punctuation">.</span>values<span class="token punctuation">)</span>


<span class="token comment"># 设置x坐标标注  相当于x的label maping一个对应的列表，现实其对应的值到x轴上</span>
<span class="token comment"># 下面的代码也有平移了，这里也平移0.5个单位</span>
plt<span class="token punctuation">.</span>xticks<span class="token punctuation">(</span>np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>say<span class="token punctuation">.</span>value_counts<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">0.5</span><span class="token punctuation">,</span>say<span class="token punctuation">.</span>value_counts<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>index<span class="token punctuation">)</span>

<span class="token comment"># 设置显示范围</span>
plt<span class="token punctuation">.</span>axis<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span>cols<span class="token operator">+</span><span class="token number">0.5</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">)</span>   <span class="token comment"># [横轴最小值0，横轴最大值4，纵轴最小值0，纵轴最大10]</span>

<span class="token comment"># 平移0.5个单位，宽度设置0.5</span>
plt<span class="token punctuation">.</span>bar<span class="token punctuation">(</span>   np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>say<span class="token punctuation">.</span>value_counts<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">0.5</span><span class="token punctuation">,</span> say<span class="token punctuation">.</span>value_counts<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>width<span class="token operator">=</span><span class="token number">0.5</span>    <span class="token punctuation">)</span>

<span class="token comment"># 将每个柱体的添加标注和值</span>
<span class="token keyword">for</span> x<span class="token punctuation">,</span>y <span class="token keyword">in</span> <span class="token builtin">zip</span><span class="token punctuation">(</span>  np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span> <span class="token builtin">len</span><span class="token punctuation">(</span> say<span class="token punctuation">.</span>value_counts<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">0.5</span><span class="token punctuation">,</span> say<span class="token punctuation">.</span>value_counts<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    plt<span class="token punctuation">.</span>text<span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">,</span>y<span class="token punctuation">,</span>ha<span class="token operator">=</span><span class="token string">&quot;center&quot;</span><span class="token punctuation">,</span>va<span class="token operator">=</span><span class="token string">&quot;bottom&quot;</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="折线图"><a href="#折线图" class="header-anchor">#</a> 折线图</h2> <p>上面提过散点，折线图也是散点连起来的</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">from</span> numpy<span class="token punctuation">.</span>random <span class="token keyword">import</span> randn
<span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt
plt<span class="token punctuation">.</span>style<span class="token punctuation">.</span>use<span class="token punctuation">(</span><span class="token string">'ggplot'</span><span class="token punctuation">)</span>
plot_data1 <span class="token operator">=</span> randn<span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">.</span>cumsum<span class="token punctuation">(</span><span class="token punctuation">)</span>
plot_data2 <span class="token operator">=</span> randn<span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">.</span>cumsum<span class="token punctuation">(</span><span class="token punctuation">)</span>
plot_data3 <span class="token operator">=</span> randn<span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">.</span>cumsum<span class="token punctuation">(</span><span class="token punctuation">)</span>

plot_data4 <span class="token operator">=</span> randn<span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">.</span>cumsum<span class="token punctuation">(</span><span class="token punctuation">)</span>
fig <span class="token operator">=</span> plt<span class="token punctuation">.</span>figure<span class="token punctuation">(</span><span class="token punctuation">)</span>
ax1 <span class="token operator">=</span> fig<span class="token punctuation">.</span>add_subplot<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span>
ax1<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>plot_data1<span class="token punctuation">,</span> marker<span class="token operator">=</span><span class="token string">r'o'</span><span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">u'blue'</span><span class="token punctuation">,</span> linestyle<span class="token operator">=</span><span class="token string">'-'</span><span class="token punctuation">,</span>\
label<span class="token operator">=</span><span class="token string">'Blue Solid'</span><span class="token punctuation">)</span>
ax1<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>plot_data2<span class="token punctuation">,</span> marker<span class="token operator">=</span><span class="token string">r'+'</span><span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">u'red'</span><span class="token punctuation">,</span> linestyle<span class="token operator">=</span><span class="token string">'--'</span><span class="token punctuation">,</span>\
label<span class="token operator">=</span><span class="token string">'Red Dashed'</span><span class="token punctuation">)</span>
ax1<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>plot_data3<span class="token punctuation">,</span> marker<span class="token operator">=</span><span class="token string">r'*'</span><span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">u'green'</span><span class="token punctuation">,</span> linestyle<span class="token operator">=</span><span class="token string">'-.'</span><span class="token punctuation">,</span>\
label<span class="token operator">=</span><span class="token string">'Green Dash Dot'</span><span class="token punctuation">)</span>
ax1<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>plot_data4<span class="token punctuation">,</span> marker<span class="token operator">=</span><span class="token string">r's'</span><span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">u'orange'</span><span class="token punctuation">,</span> linestyle<span class="token operator">=</span><span class="token string">':'</span><span class="token punctuation">,</span>\
label<span class="token operator">=</span><span class="token string">'Orange Dotted'</span><span class="token punctuation">)</span>
ax1<span class="token punctuation">.</span>xaxis<span class="token punctuation">.</span>set_ticks_position<span class="token punctuation">(</span><span class="token string">'bottom'</span><span class="token punctuation">)</span>
ax1<span class="token punctuation">.</span>yaxis<span class="token punctuation">.</span>set_ticks_position<span class="token punctuation">(</span><span class="token string">'left'</span><span class="token punctuation">)</span>
ax1<span class="token punctuation">.</span>set_title<span class="token punctuation">(</span><span class="token string">'Line Plots: Markers, Colors, and Linestyles'</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>xlabel<span class="token punctuation">(</span><span class="token string">'Draw'</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>ylabel<span class="token punctuation">(</span><span class="token string">'Random Number'</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>legend<span class="token punctuation">(</span>loc<span class="token operator">=</span><span class="token string">'best'</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>savefig<span class="token punctuation">(</span><span class="token string">'line_plot.png'</span><span class="token punctuation">,</span> dpi<span class="token operator">=</span><span class="token number">400</span><span class="token punctuation">,</span> bbox_inches<span class="token operator">=</span><span class="token string">'tight'</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="箱线图"><a href="#箱线图" class="header-anchor">#</a> 箱线图</h2> <p>可以用来反映一组或多组连续型定量数据分布的中心位置和散布范围</p> <p>箱线图可以表示出数据的最小值、第一四分位数、中位数、第三四分位数和最大值。箱体
的下部和上部边缘线分别表示第一四分位数和第三四分位数，箱体中间的直线表示中位
数。箱体上下两端延伸出去的直线（whisker，亦称为“须”）表示非离群点的最小值和最
大值，在直线（须）之外的点表示离群点。</p> <p>连续型数据：在一定区间内可以任意取值的变量叫连续变量，其数值是连续不断的。例如，生产零件的规格尺寸，人体测量的身高、体重等，其数值只能用测量或计量的方法取得。可视化这类数据的图表主要有箱形图和直方图。</p> <p>离散型数据：数值只能用自然数或整数单位计算的则为离散变量。例如，企业个数，职工人数，设备台数等，只能按计量单位数计数，数值一般用计数方法取得。大多数图表可视化的都是这类数据，比如柱状图、折线图等。</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
<span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt
plt<span class="token punctuation">.</span>style<span class="token punctuation">.</span>use<span class="token punctuation">(</span><span class="token string">'ggplot'</span><span class="token punctuation">)</span>
N <span class="token operator">=</span> <span class="token number">500</span>
normal <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>normal<span class="token punctuation">(</span>loc<span class="token operator">=</span><span class="token number">0.0</span><span class="token punctuation">,</span> scale<span class="token operator">=</span><span class="token number">1.0</span><span class="token punctuation">,</span> size<span class="token operator">=</span>N<span class="token punctuation">)</span>
<span class="token comment"># np.random.normal()的意思是一个正态分布</span>
<span class="token comment"># 参数loc(float)：正态分布的均值，对应着这个分布的中心。loc=0说明这一个以Y轴为对称轴的正态分布</span>
<span class="token comment"># 参数scale(float)：正态分布的标准差，对应分布的宽度，scale越大，正态分布的曲线越矮胖，scale越小，曲线越高瘦</span>


lognormal <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>lognormal<span class="token punctuation">(</span>mean<span class="token operator">=</span><span class="token number">0.0</span><span class="token punctuation">,</span> sigma<span class="token operator">=</span><span class="token number">1.0</span><span class="token punctuation">,</span> size<span class="token operator">=</span>N<span class="token punctuation">)</span>
<span class="token comment"># 对数正态分布是指一个随机变量的对数服从正态分布，则该随机变量服从对数正态分布。</span>
<span class="token comment"># np.lognormal()方法，我们可以获取对数正态分布值</span>


index_value <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>random_integers<span class="token punctuation">(</span>low<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> high<span class="token operator">=</span>N<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> size<span class="token operator">=</span>N<span class="token punctuation">)</span>
<span class="token comment"># 返回随机整数，范围区间为[low,high]，包含low和high</span>
<span class="token comment"># 参数：low为最小值，high为最大值，size为数组维度大小</span>
<span class="token comment"># high没有填写时，默认生成随机数的范围是[1，low]</span>
<span class="token comment"># 该函数在最新的numpy版本中已被替代，建议使用randint函数</span>

normal_sample <span class="token operator">=</span> normal<span class="token punctuation">[</span>index_value<span class="token punctuation">]</span>
lognormal_sample <span class="token operator">=</span> lognormal<span class="token punctuation">[</span>index_value<span class="token punctuation">]</span>

box_plot_data <span class="token operator">=</span> <span class="token punctuation">[</span>normal<span class="token punctuation">,</span>normal_sample<span class="token punctuation">,</span>lognormal<span class="token punctuation">,</span>lognormal_sample<span class="token punctuation">]</span>

fig <span class="token operator">=</span> plt<span class="token punctuation">.</span>figure<span class="token punctuation">(</span><span class="token punctuation">)</span>
ax1 <span class="token operator">=</span> fig<span class="token punctuation">.</span>add_subplot<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span>
box_labels <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'normal'</span><span class="token punctuation">,</span><span class="token string">'normal_sample'</span><span class="token punctuation">,</span><span class="token string">'lognormal'</span><span class="token punctuation">,</span><span class="token string">'lognormal_sample'</span><span class="token punctuation">]</span>
ax1<span class="token punctuation">.</span>boxplot<span class="token punctuation">(</span>box_plot_data<span class="token punctuation">,</span> notch<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> sym<span class="token operator">=</span><span class="token string">'.'</span><span class="token punctuation">,</span> vert<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> whis<span class="token operator">=</span><span class="token number">1.5</span><span class="token punctuation">,</span> \
showmeans<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> labels<span class="token operator">=</span>box_labels<span class="token punctuation">)</span>
ax1<span class="token punctuation">.</span>xaxis<span class="token punctuation">.</span>set_ticks_position<span class="token punctuation">(</span><span class="token string">'bottom'</span><span class="token punctuation">)</span>
ax1<span class="token punctuation">.</span>yaxis<span class="token punctuation">.</span>set_ticks_position<span class="token punctuation">(</span><span class="token string">'left'</span><span class="token punctuation">)</span>
ax1<span class="token punctuation">.</span>set_title<span class="token punctuation">(</span><span class="token string">'Box Plots: Resampling of Two Distributions'</span><span class="token punctuation">)</span>
ax1<span class="token punctuation">.</span>set_xlabel<span class="token punctuation">(</span><span class="token string">'Distribution'</span><span class="token punctuation">)</span>
ax1<span class="token punctuation">.</span>set_ylabel<span class="token punctuation">(</span><span class="token string">'Value'</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>savefig<span class="token punctuation">(</span><span class="token string">'box_plot.png'</span><span class="token punctuation">,</span> dpi<span class="token operator">=</span><span class="token number">400</span><span class="token punctuation">,</span> bbox_inches<span class="token operator">=</span><span class="token string">'tight'</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/blog/Python/dataAnalys/mix.html" class="prev">
        多个不同文件，单个文件多个表
      </a></span> <span class="next"><a href="/blog/Python/dataAnalys/xiangxiantu.html">
        箱线图
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/blog/assets/js/app.7a4660d2.js" defer></script><script src="/blog/assets/js/2.85e08d05.js" defer></script><script src="/blog/assets/js/17.49bf184a.js" defer></script>
  </body>
</html>
